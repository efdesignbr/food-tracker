(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{1425:function(e,t,i){Promise.resolve().then(i.bind(i,4153))},4153:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var o=i(7437),r=i(2265),a=i(6394),n=i(5682),l=i(9229),s=i(5591);let d=["Pratos prontos","Bebidas","Carnes e derivados","Cereais e derivados","Frutas e derivados","Gorduras e \xf3leos","Industrializados","Leguminosas e derivados","Leite e derivados","Leites Vegetais","Massas","Miscel\xe2neas","Nozes e sementes","Ovos e derivados","Pescados e frutos do mar","Produtos a\xe7ucarados","Suplementos","Verduras, hortali\xe7as e derivados"];function c(){let{plan:e,quota:t,isLoading:i}=(0,a.R)(),{hasQuota:c}=(0,n.f)(e,t),[p,g]=(0,r.useState)(!1),[u,b]=(0,r.useState)([]),[h,x]=(0,r.useState)(!1),[m,f]=(0,r.useState)(null),[y,v]=(0,r.useState)(null),[S,j]=(0,r.useState)(!1),[z,k]=(0,r.useState)(""),[w,C]=(0,r.useState)(""),[F,W]=(0,r.useState)(""),[R,B]=(0,r.useState)(""),[_,T]=(0,r.useState)(""),[P,A]=(0,r.useState)(""),[E,I]=(0,r.useState)(""),[L,M]=(0,r.useState)(""),[V,N]=(0,r.useState)(""),[G,O]=(0,r.useState)(""),[D,U]=(0,r.useState)(""),[q,Z]=(0,r.useState)(""),[H,Q]=(0,r.useState)(""),[Y,J]=(0,r.useState)(""),[K,X]=(0,r.useState)(""),[$,ee]=(0,r.useState)(""),[et,ei]=(0,r.useState)(""),[eo,er]=(0,r.useState)(""),[ea,en]=(0,r.useState)(""),[el,es]=(0,r.useState)(""),[ed,ec]=(0,r.useState)(""),[ep,eg]=(0,r.useState)(""),[eu,eb]=(0,r.useState)(!1),[eh,ex]=(0,r.useState)(!1),[em,ef]=(0,r.useState)(""),[ey,ev]=(0,r.useState)(!1),[eS,ej]=(0,r.useState)(null),[ez,ek]=(0,r.useState)(null),[ew,eC]=(0,r.useState)(null),[eF,eW]=(0,r.useState)(!1),[eR,eB]=(0,r.useState)(""),[e_,eT]=(0,r.useState)(!0),[eP,eA]=(0,r.useState)(""),[eE,eI]=(0,r.useState)(!1),[eL,eM]=(0,r.useState)(null),[eV,eN]=(0,r.useState)(!1),[eG,eO]=(0,r.useState)(""),[eD,eU]=(0,r.useState)(null),eq=(0,r.useRef)(null);async function eZ(){try{let e=await s.h.get("/api/food-bank?order_by=usage_count"),t=await e.json();e.ok&&b(t.items||[])}catch(e){console.error("Erro ao buscar alimentos:",e)}}async function eH(e){e.preventDefault(),f(null),v(null),x(!0);try{let e={name:z,source:"manual"};w&&(e.brand=w),F&&(e.serving_size=F),R&&(e.calories=parseFloat(R)),_&&(e.protein=parseFloat(_)),P&&(e.carbs=parseFloat(P)),E&&(e.fat=parseFloat(E)),L&&(e.fiber=parseFloat(L)),V&&(e.sodium=parseFloat(V)),G&&(e.sugar=parseFloat(G)),D&&(e.saturated_fat=parseFloat(D)),q&&(e.cholesterol=parseFloat(q)),H&&(e.calcium=parseFloat(H)),Y&&(e.iron=parseFloat(Y)),K&&(e.zinc=parseFloat(K)),$&&(e.potassium=parseFloat($)),et&&(e.vitamin_c=parseFloat(et)),eo&&(e.vitamin_a=parseFloat(eo)),ea&&(e.vitamin_b1=parseFloat(ea)),el&&(e.vitamin_b2=parseFloat(el)),ed&&(e.vitamin_b3=parseFloat(ed)),ep&&(e.vitamin_b6=parseFloat(ep)),e.purchasable=eh,em&&(e.category=em);let t=await s.h.post("/api/food-bank",e),i=await t.json();if(!t.ok)throw Error(i.error||"Erro ao salvar alimento");v("Alimento cadastrado com sucesso!"),k(""),C(""),W(""),B(""),T(""),A(""),I(""),M(""),N(""),O(""),U(""),Z(""),Q(""),J(""),X(""),ee(""),ei(""),er(""),en(""),es(""),ec(""),eg(""),eb(!1),ex(!1),ef(""),j(!1),await eZ()}catch(e){f(e.message)}finally{x(!1)}}async function eQ(){if(eS){f(null),eW(!0);try{let e=new FormData;e.append("image",eS);let t=await (0,s.x)("/api/food-bank/analyze-label",{method:"POST",body:e});if(!t.ok){if(403===t.status){g(!0);return}let e="Erro ao analisar imagem";try{e=(await t.json()).error||e}catch(i){e=413===t.status?"Imagem muito grande. Por favor, use uma imagem menor que 5MB.":"Erro ao analisar imagem (".concat(t.status,")")}throw Error(e)}let i=(await t.json()).result;i.calories&&(i.calories=parseFloat(i.calories.toFixed(2))),i.protein&&(i.protein=parseFloat(i.protein.toFixed(2))),i.carbs&&(i.carbs=parseFloat(i.carbs.toFixed(2))),i.fat&&(i.fat=parseFloat(i.fat.toFixed(2))),i.fiber&&(i.fiber=parseFloat(i.fiber.toFixed(2))),i.sodium&&(i.sodium=parseFloat(i.sodium.toFixed(2))),i.sugar&&(i.sugar=parseFloat(i.sugar.toFixed(2))),i.saturated_fat&&(i.saturated_fat=parseFloat(i.saturated_fat.toFixed(2))),eC(i),eB(i.name||"")}catch(e){f(e.message)}finally{eW(!1)}}}async function eY(){if(ew){f(null),v(null),x(!0);try{let e={name:eR||ew.name,source:"ai_analyzed"};ew.brand&&(e.brand=ew.brand),ew.serving_size&&(e.serving_size=ew.serving_size),ew.calories&&(e.calories=ew.calories),ew.protein&&(e.protein=ew.protein),ew.carbs&&(e.carbs=ew.carbs),ew.fat&&(e.fat=ew.fat),ew.fiber&&(e.fiber=ew.fiber),ew.sodium&&(e.sodium=ew.sodium),ew.sugar&&(e.sugar=ew.sugar),ew.saturated_fat&&(e.saturated_fat=ew.saturated_fat),ew.cholesterol&&(e.cholesterol=ew.cholesterol),ew.calcium&&(e.calcium=ew.calcium),ew.iron&&(e.iron=ew.iron),ew.zinc&&(e.zinc=ew.zinc),ew.potassium&&(e.potassium=ew.potassium),ew.vitamin_c&&(e.vitamin_c=ew.vitamin_c),ew.vitamin_a&&(e.vitamin_a=ew.vitamin_a),ew.vitamin_b1&&(e.vitamin_b1=ew.vitamin_b1),ew.vitamin_b2&&(e.vitamin_b2=ew.vitamin_b2),ew.vitamin_b3&&(e.vitamin_b3=ew.vitamin_b3),ew.vitamin_b6&&(e.vitamin_b6=ew.vitamin_b6),e.purchasable=e_,eP&&(e.category=eP);let t=await s.h.post("/api/food-bank",e),i=await t.json();if(!t.ok)throw Error(i.error||"Erro ao salvar alimento");v("Alimento analisado e cadastrado com sucesso!"),ev(!1),ej(null),ek(null),eC(null),eB(""),eT(!0),eA(""),await eZ()}catch(e){f(e.message)}finally{x(!1)}}}async function eJ(){if(eL){f(null),v(null),x(!0);try{let e={id:eL.id,name:eL.name,brand:eL.brand||void 0,serving_size:eL.serving_size||void 0,calories:"number"==typeof eL.calories?eL.calories:void 0,protein:"number"==typeof eL.protein?eL.protein:void 0,carbs:"number"==typeof eL.carbs?eL.carbs:void 0,fat:"number"==typeof eL.fat?eL.fat:void 0,fiber:"number"==typeof eL.fiber?eL.fiber:void 0,sodium:"number"==typeof eL.sodium?eL.sodium:void 0,sugar:"number"==typeof eL.sugar?eL.sugar:void 0,saturated_fat:"number"==typeof eL.saturated_fat?eL.saturated_fat:void 0,cholesterol:"number"==typeof eL.cholesterol?eL.cholesterol:void 0,calcium:"number"==typeof eL.calcium?eL.calcium:void 0,iron:"number"==typeof eL.iron?eL.iron:void 0,magnesium:"number"==typeof eL.magnesium?eL.magnesium:void 0,phosphorus:"number"==typeof eL.phosphorus?eL.phosphorus:void 0,potassium:"number"==typeof eL.potassium?eL.potassium:void 0,zinc:"number"==typeof eL.zinc?eL.zinc:void 0,vitamin_c:"number"==typeof eL.vitamin_c?eL.vitamin_c:void 0,purchasable:eL.purchasable,category:eL.category||void 0},t=await s.h.patch("/api/food-bank",e),i=await t.json();if(!t.ok)throw Error(i.error||"Erro ao atualizar alimento");v("Alimento atualizado com sucesso!"),eN(!1),eM(null),await eZ()}catch(e){f(e.message)}finally{x(!1)}}}async function eK(e,t){if(confirm('Tem certeza que deseja excluir "'.concat(t,'"?')))try{(await s.h.delete("/api/food-bank?id=".concat(e))).ok&&(v("Alimento exclu\xeddo com sucesso!"),await eZ())}catch(e){console.error("Erro ao deletar:",e)}}return(0,r.useEffect)(()=>{eZ()},[]),(0,o.jsxs)("div",{style:{maxWidth:1e3,margin:"0 auto",padding:24},children:[(0,o.jsx)("h1",{style:{fontSize:28,fontWeight:700,marginBottom:24},children:" Meus Alimentos"}),(0,o.jsx)(l.x5,{isOpen:p,onClose:()=>g(!1),feature:"ocr_analysis",currentPlan:e}),c&&t&&(0,o.jsx)(l.Lw,{quotaType:"ocr",used:t.ocr_analyses.used,limit:t.ocr_analyses.limit,percentage:t.ocr_analyses.percentage,remaining:t.ocr_analyses.remaining,resetDate:t.resetDate}),m&&(0,o.jsx)("div",{style:{padding:12,background:"#fee2e2",border:"2px solid #ef4444",borderRadius:8,color:"#991b1b",marginBottom:16},children:m}),y&&(0,o.jsx)("div",{style:{padding:12,background:"#d1fae5",border:"2px solid #10b981",borderRadius:8,color:"#065f46",marginBottom:16},children:y}),(0,o.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:24},children:[(0,o.jsx)("button",{onClick:()=>{j(!S),ev(!1)},style:{flex:1,padding:16,background:S?"#6b7280":"#2196F3",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:"pointer"},children:S?" Cancelar":" Cadastrar Manualmente"}),(0,o.jsx)("button",{onClick:()=>{ev(!ey),j(!1)},style:{flex:1,padding:16,background:ey?"#6b7280":"#10b981",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:"pointer"},children:ey?" Cancelar":" Analisar com IA"})]}),S&&(0,o.jsxs)("form",{onSubmit:eH,style:{background:"white",border:"2px solid #e5e7eb",borderRadius:16,padding:24,marginBottom:24},children:[(0,o.jsx)("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:" Cadastro Manual"}),(0,o.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Nome do Alimento *"}),(0,o.jsx)("input",{type:"text",value:z,onChange:e=>k(e.target.value),placeholder:"Ex: Whey Protein",required:!0,style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Marca (opcional)"}),(0,o.jsx)("input",{type:"text",value:w,onChange:e=>C(e.target.value),placeholder:"Ex: Growth",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Por\xe7\xe3o (opcional)"}),(0,o.jsx)("input",{type:"text",value:F,onChange:e=>W(e.target.value),placeholder:"Ex: 30g, 1 scoop",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Macronutrientes"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Calorias"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:R,onChange:e=>B(e.target.value),placeholder:"kcal",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Prote\xedna (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:_,onChange:e=>T(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Carboidratos (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:P,onChange:e=>A(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Gorduras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:E,onChange:e=>I(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsxs)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Detalhes Nutricionais ",(0,o.jsx)("span",{style:{fontSize:12,color:"#9ca3af",fontWeight:400},children:"(Opcional)"})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Fibras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:L,onChange:e=>M(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"S\xf3dio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:V,onChange:e=>N(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"A\xe7\xfacares (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:G,onChange:e=>O(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Gord. Sat. (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:D,onChange:e=>U(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>eb(!eu),style:{display:"flex",alignItems:"center",gap:8,marginTop:20,marginBottom:12,padding:0,background:"none",border:"none",cursor:"pointer",fontSize:15,fontWeight:700,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Micronutrientes ",(0,o.jsx)("span",{style:{fontSize:12,color:"#9ca3af",fontWeight:400},children:"(Opcional)"}),(0,o.jsx)("span",{style:{fontSize:12,color:"#6b7280"},children:eu?"▼":"▶"})]}),eu&&(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10,marginBottom:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Colesterol (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:q,onChange:e=>Z(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"C\xe1lcio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:H,onChange:e=>Q(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Ferro (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:Y,onChange:e=>J(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Zinco (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:K,onChange:e=>X(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Pot\xe1ssio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:$,onChange:e=>ee(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. C (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:et,onChange:e=>ei(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. A (mcg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eo,onChange:e=>er(e.target.value),placeholder:"mcg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. B1 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ea,onChange:e=>en(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. B2 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:el,onChange:e=>es(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. B3 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ed,onChange:e=>ec(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. B6 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ep,onChange:e=>eg(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Classifica\xe7\xe3o"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Categoria"}),(0,o.jsxs)("select",{value:em,onChange:e=>ef(e.target.value),style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box",background:"white"},children:[(0,o.jsx)("option",{value:"",children:"Selecione uma categoria..."}),d.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",paddingTop:24},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",fontSize:15,fontWeight:500},children:[(0,o.jsx)("input",{type:"checkbox",checked:eh,onChange:e=>ex(e.target.checked),style:{width:20,height:20,cursor:"pointer"}}),"Pode ser comprado no mercado"]})})]}),(0,o.jsx)("button",{type:"submit",disabled:h,style:{width:"100%",marginTop:20,padding:14,background:h?"#9ca3af":"#2196F3",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:h?"not-allowed":"pointer",transition:"all 0.2s"},children:h?" Salvando...":" Salvar Alimento"})]})]}),ey&&(0,o.jsxs)("div",{style:{background:"white",border:"2px solid #e5e7eb",borderRadius:16,padding:24,marginBottom:24},children:[(0,o.jsx)("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:" Analisar Tabela Nutricional com IA"}),(0,o.jsx)("input",{ref:eq,type:"file",accept:"image/*",onChange:function(e){var t;let i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!i)return;ej(i);let o=new FileReader;o.onloadend=()=>{ek(o.result)},o.readAsDataURL(i)},style:{display:"none"}}),ez?(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:ez,alt:"Preview",style:{width:"100%",maxHeight:300,objectFit:"contain",borderRadius:12,marginBottom:16}}),ew?(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{background:"#f3f4f6",borderRadius:12,padding:16,marginBottom:16},children:[(0,o.jsx)("h3",{style:{fontSize:18,fontWeight:700,marginBottom:16},children:" Revisar e Editar:"}),(0,o.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14,color:"#374151"},children:"Nome do Alimento *"}),(0,o.jsx)("input",{type:"text",value:eR,onChange:e=>eB(e.target.value),placeholder:"Ex: Whey Protein",required:!0,style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14,color:"#374151"},children:"Marca"}),(0,o.jsx)("input",{type:"text",value:ew.brand||"",onChange:e=>eC({...ew,brand:e.target.value}),placeholder:"Ex: Growth",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14,color:"#374151"},children:"Por\xe7\xe3o"}),(0,o.jsx)("input",{type:"text",value:ew.serving_size||"",onChange:e=>eC({...ew,serving_size:e.target.value}),placeholder:"Ex: 30g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:14,fontWeight:700,color:"#6b7280",marginBottom:12,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Macronutrientes"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Calorias"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.calories||"",onChange:e=>eC({...ew,calories:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"kcal",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Prote\xedna (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.protein||"",onChange:e=>eC({...ew,protein:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Carboidratos (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.carbs||"",onChange:e=>eC({...ew,carbs:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Gorduras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.fat||"",onChange:e=>eC({...ew,fat:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:14,fontWeight:700,color:"#6b7280",marginBottom:12,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Detalhes Nutricionais"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Fibras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.fiber||"",onChange:e=>eC({...ew,fiber:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"S\xf3dio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.sodium||"",onChange:e=>eC({...ew,sodium:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"A\xe7\xfacares (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.sugar||"",onChange:e=>eC({...ew,sugar:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Gord. Sat. (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.saturated_fat||"",onChange:e=>eC({...ew,saturated_fat:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("button",{type:"button",onClick:()=>eI(!eE),style:{display:"flex",alignItems:"center",gap:8,padding:0,marginBottom:12,background:"none",border:"none",cursor:"pointer",fontSize:14,fontWeight:700,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Micronutrientes ",(0,o.jsx)("span",{style:{fontSize:12,color:"#9ca3af",fontWeight:400},children:"(Opcional)"}),(0,o.jsx)("span",{style:{fontSize:12},children:eE?"▼":"▶"})]}),eE&&(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:10,marginBottom:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Colesterol (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ew.cholesterol||"",onChange:e=>eC({...ew,cholesterol:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"C\xe1lcio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ew.calcium||"",onChange:e=>eC({...ew,calcium:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Ferro (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ew.iron||"",onChange:e=>eC({...ew,iron:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Zinco (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ew.zinc||"",onChange:e=>eC({...ew,zinc:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Pot\xe1ssio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ew.potassium||"",onChange:e=>eC({...ew,potassium:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. C (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ew.vitamin_c||"",onChange:e=>eC({...ew,vitamin_c:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. A (mcg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ew.vitamin_a||"",onChange:e=>eC({...ew,vitamin_a:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mcg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. B1 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.vitamin_b1||"",onChange:e=>eC({...ew,vitamin_b1:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. B2 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.vitamin_b2||"",onChange:e=>eC({...ew,vitamin_b2:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. B3 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.vitamin_b3||"",onChange:e=>eC({...ew,vitamin_b3:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. B6 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ew.vitamin_b6||"",onChange:e=>eC({...ew,vitamin_b6:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:14,fontWeight:700,color:"#6b7280",marginBottom:12,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Classifica\xe7\xe3o"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14,color:"#374151"},children:"Categoria"}),(0,o.jsxs)("select",{value:eP,onChange:e=>eA(e.target.value),style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"},children:[(0,o.jsx)("option",{value:"",children:"Selecione uma categoria..."}),d.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",paddingTop:24},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",fontSize:15,fontWeight:500,color:"#374151"},children:[(0,o.jsx)("input",{type:"checkbox",checked:e_,onChange:e=>eT(e.target.checked),style:{width:20,height:20,cursor:"pointer"}}),"Pode ser comprado no mercado"]})})]})]})]})]}),(0,o.jsx)("button",{onClick:eY,disabled:h||!eR.trim(),style:{width:"100%",padding:16,background:h||!eR.trim()?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:h||!eR.trim()?"not-allowed":"pointer"},children:h?" Salvando...":" Salvar no Banco de Alimentos"})]}):(0,o.jsx)("button",{onClick:eQ,disabled:eF,style:{width:"100%",padding:16,background:eF?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:eF?"not-allowed":"pointer"},children:eF?" Analisando...":" Analisar com IA"})]}):(0,o.jsx)("button",{onClick:()=>{var e;return null===(e=eq.current)||void 0===e?void 0:e.click()},style:{width:"100%",padding:48,background:"#f3f4f6",border:"2px dashed #d1d5db",borderRadius:12,fontSize:16,fontWeight:600,color:"#6b7280",cursor:"pointer"},children:"Selecionar Foto da Tabela Nutricional"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:["Alimentos Cadastrados (",u.length,")"]}),u.length>0&&(0,o.jsx)("div",{style:{marginBottom:16},children:(0,o.jsx)("input",{type:"text",value:eG,onChange:e=>eO(e.target.value),placeholder:" Buscar alimento...",style:{width:"100%",padding:12,fontSize:15,border:"2px solid #e5e7eb",borderRadius:12,boxSizing:"border-box"}})}),0===u.length?(0,o.jsx)("div",{style:{padding:32,textAlign:"center",color:"#9ca3af",border:"2px dashed #d1d5db",borderRadius:12},children:"Nenhum alimento cadastrado ainda"}):(0,o.jsxs)("div",{style:{display:"grid",gap:12},children:[u.filter(e=>e.name.toLowerCase().includes(eG.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(eG.toLowerCase())).map(e=>{let t=eD===e.id;return(0,o.jsxs)("div",{style:{background:"white",border:t?"2px solid #2196F3":"1px solid #e5e7eb",borderRadius:12,overflow:"hidden",transition:"all 0.2s ease"},children:[(0,o.jsxs)("div",{onClick:()=>eU(t?null:e.id),style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:16,cursor:"pointer",background:t?"#f0f9ff":"white"},children:[(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsxs)("div",{style:{fontSize:16,fontWeight:600,color:"#1f2937"},children:[e.purchasable&&(0,o.jsx)("span",{style:{marginRight:6,fontSize:14},title:"Pode ser comprado no mercado"}),e.name,"ai_analyzed"===e.source&&(0,o.jsx)("span",{style:{marginLeft:8,fontSize:14,color:"#10b981"}})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.brand&&(0,o.jsx)("span",{style:{fontSize:13,color:"#6b7280"},children:e.brand}),e.category&&(0,o.jsx)("span",{style:{fontSize:11,color:"#6b7280",background:"#f3f4f6",padding:"2px 6px",borderRadius:4},children:e.category})]})]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.calories&&(0,o.jsxs)("span",{style:{fontSize:14,fontWeight:600,color:"#374151"},children:[parseFloat(e.calories.toString()).toFixed(0)," kcal"]}),(0,o.jsx)("span",{style:{fontSize:14,color:"#9ca3af",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})]}),t&&(0,o.jsxs)("div",{style:{padding:"0 16px 16px",borderTop:"1px solid #e5e7eb"},children:[e.serving_size&&(0,o.jsxs)("div",{style:{fontSize:13,color:"#6b7280",marginTop:12,marginBottom:8},children:["Por\xe7\xe3o: ",e.serving_size]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))",gap:8,marginTop:12},children:[null!==e.protein&&(0,o.jsxs)("div",{style:{textAlign:"center",padding:8,background:"#fef3c7",borderRadius:8},children:[(0,o.jsxs)("div",{style:{fontSize:14,fontWeight:700,color:"#d97706"},children:[parseFloat(e.protein.toString()).toFixed(1),"g"]}),(0,o.jsx)("div",{style:{fontSize:11,color:"#92400e"},children:"Prote\xedna"})]}),null!==e.carbs&&(0,o.jsxs)("div",{style:{textAlign:"center",padding:8,background:"#dbeafe",borderRadius:8},children:[(0,o.jsxs)("div",{style:{fontSize:14,fontWeight:700,color:"#2563eb"},children:[parseFloat(e.carbs.toString()).toFixed(1),"g"]}),(0,o.jsx)("div",{style:{fontSize:11,color:"#1e40af"},children:"Carbos"})]}),null!==e.fat&&(0,o.jsxs)("div",{style:{textAlign:"center",padding:8,background:"#fce7f3",borderRadius:8},children:[(0,o.jsxs)("div",{style:{fontSize:14,fontWeight:700,color:"#db2777"},children:[parseFloat(e.fat.toString()).toFixed(1),"g"]}),(0,o.jsx)("div",{style:{fontSize:11,color:"#9d174d"},children:"Gordura"})]}),null!==e.fiber&&(0,o.jsxs)("div",{style:{textAlign:"center",padding:8,background:"#d1fae5",borderRadius:8},children:[(0,o.jsxs)("div",{style:{fontSize:14,fontWeight:700,color:"#059669"},children:[parseFloat(e.fiber.toString()).toFixed(1),"g"]}),(0,o.jsx)("div",{style:{fontSize:11,color:"#047857"},children:"Fibra"})]})]}),(e.sodium||e.sugar||e.saturated_fat)&&(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:12,fontSize:12,color:"#6b7280"},children:[e.sodium&&(0,o.jsxs)("span",{children:[" ",parseFloat(e.sodium.toString()).toFixed(0),"mg s\xf3dio"]}),e.sugar&&(0,o.jsxs)("span",{children:[" ",parseFloat(e.sugar.toString()).toFixed(1),"g a\xe7\xfacar"]}),e.saturated_fat&&(0,o.jsxs)("span",{children:[" ",parseFloat(e.saturated_fat.toString()).toFixed(1),"g gord.sat"]})]}),(e.cholesterol||e.calcium||e.magnesium||e.phosphorus||e.iron||e.potassium||e.zinc||e.vitamin_c)&&(0,o.jsxs)("div",{style:{marginTop:12},children:[(0,o.jsx)("div",{style:{fontSize:11,fontWeight:600,color:"#7c3aed",marginBottom:8},children:"Micronutrientes"}),(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:6,fontSize:11},children:[e.cholesterol&&(0,o.jsxs)("span",{style:{background:"#fecaca",color:"#991b1b",padding:"3px 8px",borderRadius:4},children:["Colesterol: ",parseFloat(e.cholesterol.toString()).toFixed(0),"mg"]}),e.calcium&&(0,o.jsxs)("span",{style:{background:"#fef3c7",color:"#92400e",padding:"3px 8px",borderRadius:4},children:["C\xe1lcio: ",parseFloat(e.calcium.toString()).toFixed(0),"mg"]}),e.iron&&(0,o.jsxs)("span",{style:{background:"#fee2e2",color:"#991b1b",padding:"3px 8px",borderRadius:4},children:["Ferro: ",parseFloat(e.iron.toString()).toFixed(1),"mg"]}),e.magnesium&&(0,o.jsxs)("span",{style:{background:"#d1fae5",color:"#065f46",padding:"3px 8px",borderRadius:4},children:["Magn\xe9sio: ",parseFloat(e.magnesium.toString()).toFixed(0),"mg"]}),e.phosphorus&&(0,o.jsxs)("span",{style:{background:"#e0e7ff",color:"#3730a3",padding:"3px 8px",borderRadius:4},children:["F\xf3sforo: ",parseFloat(e.phosphorus.toString()).toFixed(0),"mg"]}),e.potassium&&(0,o.jsxs)("span",{style:{background:"#fce7f3",color:"#9d174d",padding:"3px 8px",borderRadius:4},children:["Pot\xe1ssio: ",parseFloat(e.potassium.toString()).toFixed(0),"mg"]}),e.zinc&&(0,o.jsxs)("span",{style:{background:"#cffafe",color:"#155e75",padding:"3px 8px",borderRadius:4},children:["Zinco: ",parseFloat(e.zinc.toString()).toFixed(2),"mg"]}),e.vitamin_c&&(0,o.jsxs)("span",{style:{background:"#fef9c3",color:"#854d0e",padding:"3px 8px",borderRadius:4},children:["Vit. C: ",parseFloat(e.vitamin_c.toString()).toFixed(0),"mg"]})]})]}),e.usage_count>0&&(0,o.jsxs)("div",{style:{fontSize:12,color:"#9ca3af",marginTop:8},children:["Usado ",e.usage_count,"x"]}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,marginTop:16},children:[(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),eM(e),eN(!0),f(null),v(null)},style:{flex:1,padding:"10px 12px",background:"#dbeafe",color:"#1e40af",border:"none",borderRadius:8,cursor:"pointer",fontSize:14,fontWeight:600},children:"Editar"}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),eK(e.id,e.name)},style:{flex:1,padding:"10px 12px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:8,cursor:"pointer",fontSize:14,fontWeight:600},children:"Excluir"})]})]})]},e.id)}),0===u.filter(e=>e.name.toLowerCase().includes(eG.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(eG.toLowerCase())).length&&eG&&(0,o.jsxs)("div",{style:{padding:24,textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:12},children:['Nenhum alimento encontrado para "',eG,'"']})]})]}),eV&&eL&&(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:20},children:(0,o.jsxs)("div",{style:{background:"white",borderRadius:16,padding:24,maxWidth:800,width:"100%",maxHeight:"90vh",overflowY:"auto"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,o.jsx)("h2",{style:{fontSize:20,fontWeight:700},children:" Editar Alimento"}),(0,o.jsx)("button",{onClick:()=>{eN(!1),eM(null)},style:{padding:8,background:"transparent",border:"none",fontSize:24,cursor:"pointer",color:"#666"}})]}),(0,o.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Nome do Alimento *"}),(0,o.jsx)("input",{type:"text",value:eL.name,onChange:e=>eM({...eL,name:e.target.value}),placeholder:"Ex: Whey Protein",required:!0,style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Marca"}),(0,o.jsx)("input",{type:"text",value:eL.brand||"",onChange:e=>eM({...eL,brand:e.target.value}),placeholder:"Ex: Growth",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Por\xe7\xe3o"}),(0,o.jsx)("input",{type:"text",value:eL.serving_size||"",onChange:e=>eM({...eL,serving_size:e.target.value}),placeholder:"Ex: 30g, 1 scoop",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Macronutrientes"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Calorias"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.calories||"",onChange:e=>eM({...eL,calories:e.target.value?parseFloat(e.target.value):null}),placeholder:"kcal",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Prote\xedna (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.protein||"",onChange:e=>eM({...eL,protein:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Carboidratos (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.carbs||"",onChange:e=>eM({...eL,carbs:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Gorduras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.fat||"",onChange:e=>eM({...eL,fat:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Detalhes Nutricionais"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Fibras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.fiber||"",onChange:e=>eM({...eL,fiber:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"S\xf3dio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.sodium||"",onChange:e=>eM({...eL,sodium:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"A\xe7\xfacares (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.sugar||"",onChange:e=>eM({...eL,sugar:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Gord. Sat. (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.saturated_fat||"",onChange:e=>eM({...eL,saturated_fat:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#7c3aed",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Micronutrientes"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Colesterol (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.cholesterol||"",onChange:e=>eM({...eL,cholesterol:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"C\xe1lcio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.calcium||"",onChange:e=>eM({...eL,calcium:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Ferro (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.iron||"",onChange:e=>eM({...eL,iron:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Magn\xe9sio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.magnesium||"",onChange:e=>eM({...eL,magnesium:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"F\xf3sforo (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.phosphorus||"",onChange:e=>eM({...eL,phosphorus:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Pot\xe1ssio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.potassium||"",onChange:e=>eM({...eL,potassium:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Zinco (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eL.zinc||"",onChange:e=>eM({...eL,zinc:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. C (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eL.vitamin_c||"",onChange:e=>eM({...eL,vitamin_c:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Classifica\xe7\xe3o"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Categoria"}),(0,o.jsxs)("select",{value:eL.category||"",onChange:e=>eM({...eL,category:e.target.value||null}),style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box",background:"white"},children:[(0,o.jsx)("option",{value:"",children:"Selecione uma categoria..."}),d.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",paddingTop:24},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",fontSize:15,fontWeight:500},children:[(0,o.jsx)("input",{type:"checkbox",checked:eL.purchasable,onChange:e=>eM({...eL,purchasable:e.target.checked}),style:{width:20,height:20,cursor:"pointer"}}),"Pode ser comprado no mercado"]})})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:12,marginTop:20},children:[(0,o.jsx)("button",{onClick:()=>{eN(!1),eM(null)},disabled:h,style:{flex:1,padding:14,background:"#6b7280",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:h?"not-allowed":"pointer",opacity:h?.6:1},children:"Cancelar"}),(0,o.jsx)("button",{onClick:eJ,disabled:h||!eL.name.trim(),style:{flex:2,padding:14,background:h||!eL.name.trim()?"#9ca3af":"#2196F3",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:h||!eL.name.trim()?"not-allowed":"pointer"},children:h?" Salvando...":" Salvar Altera\xe7\xf5es"})]})]})]})})]})}},5682:function(e,t,i){"use strict";function o(e,t){return{canUseFeature:i=>"free"!==e&&("unlimited"===e||!!t&&("photo"===i?t.photo_analyses:t.ocr_analyses).remaining>0),getQuotaInfo:i=>{if("free"===e)return{used:0,limit:0,remaining:0,percentage:0,canUse:!1};if("unlimited"===e)return{used:t?"photo"===i?t.photo_analyses.used:t.ocr_analyses.used:0,limit:999999,remaining:999999,percentage:0,canUse:!0};if(!t)return{used:0,limit:0,remaining:0,percentage:0,canUse:!1};let o="photo"===i?t.photo_analyses:t.ocr_analyses;return{used:o.used,limit:o.limit,remaining:o.remaining,percentage:o.percentage,canUse:o.remaining>0}},hasQuota:"premium"===e&&null!==t}}i.d(t,{f:function(){return o}})},6463:function(e,t,i){"use strict";var o=i(1169);i.o(o,"usePathname")&&i.d(t,{usePathname:function(){return o.usePathname}}),i.o(o,"useRouter")&&i.d(t,{useRouter:function(){return o.useRouter}}),i.o(o,"useSearchParams")&&i.d(t,{useSearchParams:function(){return o.useSearchParams}})},357:function(e,t,i){"use strict";var o,r;e.exports=(null==(o=i.g.process)?void 0:o.env)&&"object"==typeof(null==(r=i.g.process)?void 0:r.env)?i.g.process:i(8081)},8081:function(e){!function(){var t={229:function(e){var t,i,o,r=e.exports={};function a(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{i="function"==typeof clearTimeout?clearTimeout:n}catch(e){i=n}}();var s=[],d=!1,c=-1;function p(){d&&o&&(d=!1,o.length?s=o.concat(s):c=-1,s.length&&g())}function g(){if(!d){var e=l(p);d=!0;for(var t=s.length;t;){for(o=s,s=[];++c<t;)o&&o[c].run();c=-1,t=s.length}o=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===n||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function u(e,t){this.fun=e,this.array=t}function b(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];s.push(new u(e,t)),1!==s.length||d||l(g)},u.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=b,r.addListener=b,r.once=b,r.off=b,r.removeListener=b,r.removeAllListeners=b,r.emit=b,r.prependListener=b,r.prependOnceListener=b,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var a=i[e]={exports:{}},n=!0;try{t[e](a,a.exports,o),n=!1}finally{n&&delete i[e]}return a.exports}o.ab="//";var r=o(229);e.exports=r}()}},function(e){e.O(0,[323,971,23,744],function(){return e(e.s=1425)}),_N_E=e.O()}]);