(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{98464:function(e,o,t){Promise.resolve().then(t.bind(t,89736))},89736:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return u}});var r=t(57437),i=t(2265),n=t(16463),s=t(98174),a=t(46285),l=t(86394),d=t(95682),c=t(45591),g=t(87185);function u(){let e=(0,n.useRouter)(),[o,u]=(0,i.useState)(!0),[h,p]=(0,i.useState)(!1),[f,b]=(0,i.useState)(null),[x,m]=(0,i.useState)(!1),[y,j]=(0,i.useState)(null),[v,w]=(0,i.useState)(""),[S,k]=(0,i.useState)(""),[z,C]=(0,i.useState)(2e3),[B,W]=(0,i.useState)(150),[R,_]=(0,i.useState)(250),[E,T]=(0,i.useState)(65),[A,L]=(0,i.useState)(2e3),[D,I]=(0,i.useState)("plan"),[M,P]=(0,i.useState)(null),[F,N]=(0,i.useState)(!1),[O,U]=(0,i.useState)(!1),[q,V]=(0,i.useState)(!1),[G,X]=(0,i.useState)(""),[H,Q]=(0,i.useState)(""),[J,Y]=(0,i.useState)(!1),[K,Z]=(0,i.useState)(!1),[$,ee]=(0,i.useState)(null),{plan:eo,quota:et,isLoading:er}=(0,l.R)(),{canUseFeature:ei,getQuotaInfo:en,hasQuota:es}=(0,d.f)(eo,et),[ea,el]=(0,i.useState)(!1);async function ed(){try{u(!0);let e=await c.h.get("/api/user/profile");if(!e.ok)throw Error("Erro ao carregar perfil");let o=await e.json();j(o.user),w(o.user.name),k(o.user.phone||""),C(o.user.goals.calories),W(o.user.goals.protein),_(o.user.goals.carbs),T(o.user.goals.fat),L(o.user.goals.water||2e3)}catch(e){b(e.message)}finally{u(!1)}}async function ec(){try{N(!0);let e=await c.h.get("/api/user/goals");if(!e.ok)return;let o=await e.json();P(o.goals)}catch(e){console.error("Erro ao carregar objetivos:",e)}finally{N(!1)}}async function eg(){try{p(!0),b(null),m(!1);let e=await c.h.patch("/api/user/profile",{name:v,phone:S||null});if(!e.ok)throw Error("Erro ao salvar dados");let o=await e.json();j(o.user),m(!0),setTimeout(()=>m(!1),3e3)}catch(e){b(e.message)}finally{p(!1)}}async function eu(){try{p(!0),b(null),m(!1);let e=await c.h.patch("/api/user/profile",{goals:{calories:z,protein:B,carbs:R,fat:E,water:A}});if(!e.ok)throw Error("Erro ao salvar metas");let o=await e.json();j(o.user),m(!0),setTimeout(()=>m(!1),3e3)}catch(e){b(e.message)}finally{p(!1)}}function eh(e){I(D===e?null:e)}function ep(){U(!1),V(!1),X(""),Q(""),Y(!1),ee(null)}async function ef(){if(!G||!H||!J){ee("Por favor, preencha todos os campos e confirme");return}if("EXCLUIR"!==H){ee("Digite exatamente: EXCLUIR");return}try{Z(!0),ee(null);let o=await c.h.post("/api/account/delete",{password:G,confirmText:H}),t=await o.json();if(!o.ok){ee(t.error||"Erro ao excluir conta"),Z(!1);return}await (0,s.w7)({redirect:!1}),e.push("/signup?deleted=true")}catch(e){ee("Erro ao excluir conta. Tente novamente."),Z(!1)}}async function eb(){try{if(el(!0),g.dV.isNativePlatform())try{let{Purchases:e}=await t.e(938).then(t.bind(t,31938)),o=e.showManageSubscriptions;"function"==typeof o?await o():window.location.href="https://apps.apple.com/account/subscriptions";try{let{Purchases:e}=await t.e(938).then(t.bind(t,31938)),{customerInfo:o}=await e.getCustomerInfo();await c.h.post("/api/subscription/sync",{customerInfo:o})}catch(e){console.warn("[Account] Sync after manage subscription failed:",e)}}catch(e){console.error("[Account] Manage subscription error:",e)}else window.open("https://apps.apple.com/account/subscriptions","_blank");await ed()}finally{el(!1)}}return(0,i.useEffect)(()=>{ed(),ec()},[]),o?(0,r.jsx)("div",{style:{padding:24,maxWidth:800,margin:"0 auto"},children:(0,r.jsxs)("div",{style:{textAlign:"center",padding:48},children:[(0,r.jsx)("div",{style:{fontSize:48,marginBottom:16}}),(0,r.jsx)("p",{style:{color:"#666",fontSize:16},children:"Carregando..."})]})}):y?(0,r.jsxs)("div",{style:{padding:16,maxWidth:800,margin:"0 auto",paddingBottom:80},children:[(0,r.jsx)("h1",{style:{fontSize:28,fontWeight:700,marginBottom:16},children:" Minha Conta"}),x&&(0,r.jsx)("div",{style:{padding:16,background:"#d1fae5",border:"2px solid #10b981",borderRadius:12,marginBottom:16,color:"#065f46",fontWeight:600},children:"Dados salvos com sucesso!"}),f&&(0,r.jsx)("div",{style:{padding:16,background:"#fee2e2",border:"2px solid #ef4444",borderRadius:12,marginBottom:16,color:"#991b1b",fontWeight:600},children:f}),(0,r.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"plan"===D?"2px solid #8b5cf6":"1px solid #e5e7eb"},children:[(0,r.jsxs)("button",{onClick:()=>eh("plan"),style:{width:"100%",padding:20,border:"none",background:"plan"===D?"#f5f3ff":"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,fontSize:16,color:"plan"===D?"#8b5cf6":"#374151"},children:[(0,r.jsx)("span",{children:"Plano Atual"}),(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:"plan"===D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:(0,r.jsx)("path",{d:"M9 18l6-6-6-6"})})]}),"plan"===D&&(0,r.jsx)("div",{style:{padding:20,borderTop:"1px solid #e5e7eb"},children:er?(0,r.jsxs)("div",{style:{textAlign:"center",padding:32},children:[(0,r.jsx)("div",{style:{fontSize:32,marginBottom:8}}),(0,r.jsx)("p",{style:{color:"#6b7280",fontSize:14},children:"Carregando informa\xe7\xf5es do plano..."})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{marginBottom:24,textAlign:"center"},children:[(0,r.jsx)("div",{style:{marginBottom:12},children:(0,r.jsx)(a.vE,{plan:eo,size:"lg"})}),(0,r.jsxs)("p",{style:{fontSize:14,color:"#6b7280"},children:["free"===eo&&"Plano gratuito com recursos b\xe1sicos","premium"===eo&&"Plano pago com recursos avan\xe7ados","unlimited"===eo&&"Acesso ilimitado a todos os recursos"]})]}),"free"===eo&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{padding:16,background:"#fef3c7",border:"2px solid #fbbf24",borderRadius:12,marginBottom:16},children:(0,r.jsx)("p",{style:{fontSize:14,color:"#92400e",margin:0,fontWeight:600},children:"Desbloqueie recursos premium como an\xe1lise de fotos e OCR de nutri\xe7\xe3o!"})}),(0,r.jsx)("div",{style:{textAlign:"center"},children:(0,r.jsx)(a.Yz,{currentPlan:eo,size:"lg"})})]}),"premium"===eo&&es&&et&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{style:{fontSize:16,fontWeight:700,marginBottom:16,color:"#374151"},children:"Uso Mensal"}),(0,r.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,r.jsx)(a.Lw,{quotaType:"photo",used:en("photo").used,limit:en("photo").limit,percentage:en("photo").percentage,remaining:en("photo").remaining,resetDate:et.resetDate}),(0,r.jsx)(a.Lw,{quotaType:"ocr",used:en("ocr").used,limit:en("ocr").limit,percentage:en("ocr").percentage,remaining:en("ocr").remaining,resetDate:et.resetDate}),(0,r.jsx)(a.Lw,{quotaType:"text",used:en("text").used,limit:en("text").limit,percentage:en("text").percentage,remaining:en("text").remaining,resetDate:et.resetDate}),et.report_analyses&&(0,r.jsx)(a.Lw,{quotaType:"report",used:et.report_analyses.used,limit:et.report_analyses.limit,percentage:et.report_analyses.percentage,remaining:et.report_analyses.remaining,resetDate:et.resetDate})]}),(0,r.jsxs)("div",{style:{marginTop:16},children:[(0,r.jsx)("button",{onClick:eb,disabled:ea,style:{width:"100%",padding:12,border:"none",background:ea?"#9ca3af":"#ef4444",color:"white",borderRadius:10,fontWeight:700,fontSize:14,cursor:ea?"not-allowed":"pointer",boxShadow:ea?"none":"0 4px 12px rgba(239, 68, 68, 0.3)"},children:ea?"Abrindo gerenciamentoâ€¦":"Cancelar assinatura (voltar ao FREE)"}),(0,r.jsx)("p",{style:{fontSize:12,color:"#6b7280",marginTop:8,textAlign:"center"},children:"Voc\xea ser\xe1 redirecionado \xe0 App Store para gerenciar sua assinatura."})]})]}),"unlimited"===eo&&(0,r.jsxs)("div",{style:{padding:20,background:"linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%)",borderRadius:12,textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:48,marginBottom:8}}),(0,r.jsx)("h3",{style:{fontSize:18,fontWeight:700,color:"white",marginBottom:8},children:"Acesso Ilimitado"}),(0,r.jsx)("p",{style:{fontSize:14,color:"rgba(255,255,255,0.9)",margin:0},children:"Voc\xea tem acesso ilimitado a todos os recursos sem restri\xe7\xf5es"})]})]})})]}),(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"health"===D?"2px solid #f59e0b":"1px solid #e5e7eb"},children:[(0,r.jsxs)("button",{onClick:()=>eh("health"),style:{width:"100%",padding:20,border:"none",background:"health"===D?"#fffbeb":"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,fontSize:16,color:"health"===D?"#f59e0b":"#374151"},children:[(0,r.jsx)("span",{children:"Objetivos de Sa\xfade"}),(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:"health"===D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:(0,r.jsx)("path",{d:"M9 18l6-6-6-6"})})]}),"health"===D&&(0,r.jsx)("div",{style:{padding:20,borderTop:"1px solid #e5e7eb"},children:F?(0,r.jsxs)("div",{style:{textAlign:"center",padding:32},children:[(0,r.jsx)("div",{style:{fontSize:32,marginBottom:8}}),(0,r.jsx)("p",{style:{color:"#6b7280",fontSize:14},children:"Carregando objetivos..."})]}):M&&M.goal_type?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"grid",gap:16,marginBottom:20},children:[(0,r.jsxs)("div",{style:{padding:16,background:"#f0fdf4",border:"2px solid #86efac",borderRadius:12},children:[(0,r.jsx)("div",{style:{fontSize:12,color:"#166534",fontWeight:600,marginBottom:4},children:"OBJETIVO PRINCIPAL"}),(0,r.jsxs)("div",{style:{fontSize:16,fontWeight:700,color:"#15803d"},children:["lose_weight"===M.goal_type&&"Perder Peso (Emagrecimento)","gain_weight"===M.goal_type&&"Ganhar Peso (Ganho de Massa)","maintain_weight"===M.goal_type&&"Manter Peso (Manuten\xe7\xe3o)"]}),M.target_weight_kg&&(0,r.jsxs)("div",{style:{fontSize:13,color:"#166534",marginTop:8},children:["Peso alvo: ",(0,r.jsxs)("strong",{children:[M.target_weight_kg," kg"]})]}),M.weekly_goal_kg&&(0,r.jsxs)("div",{style:{fontSize:13,color:"#166534",marginTop:4},children:["Meta semanal: ",(0,r.jsxs)("strong",{children:[M.weekly_goal_kg>0?"+":"",M.weekly_goal_kg," kg/semana"]})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:12,color:"#6b7280",fontWeight:600,marginBottom:4},children:"ALTURA"}),(0,r.jsxs)("div",{style:{fontSize:16,fontWeight:700,color:"#374151"},children:[M.height_cm," cm"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:12,color:"#6b7280",fontWeight:600,marginBottom:4},children:"IDADE"}),(0,r.jsxs)("div",{style:{fontSize:16,fontWeight:700,color:"#374151"},children:[M.age," anos"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:12,color:"#6b7280",fontWeight:600,marginBottom:4},children:"G\xcaNERO"}),(0,r.jsxs)("div",{style:{fontSize:16,fontWeight:700,color:"#374151"},children:["male"===M.gender&&"Masculino","female"===M.gender&&"Feminino","other"===M.gender&&"Outro"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:12,color:"#6b7280",fontWeight:600,marginBottom:4},children:"ATIVIDADE"}),(0,r.jsxs)("div",{style:{fontSize:13,fontWeight:700,color:"#374151"},children:["sedentary"===M.activity_level&&"Sedent\xe1rio","light"===M.activity_level&&"Leve","moderate"===M.activity_level&&"Moderado","active"===M.activity_level&&"Ativo","very_active"===M.activity_level&&"Muito Ativo"]})]})]})]}),(0,r.jsx)("button",{onClick:()=>e.push("/objetivos"),style:{width:"100%",padding:14,border:"2px solid #f59e0b",background:"white",color:"#f59e0b",borderRadius:12,fontWeight:700,fontSize:16,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#f59e0b",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.background="white",e.currentTarget.style.color="#f59e0b"},children:"Editar Objetivos"})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{padding:16,background:"#fef3c7",border:"2px solid #fbbf24",borderRadius:12,marginBottom:16,textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:32,marginBottom:8}}),(0,r.jsx)("p",{style:{fontSize:14,color:"#92400e",margin:"0 0 8px 0",fontWeight:600},children:"Configure seus objetivos de sa\xfade"}),(0,r.jsx)("p",{style:{fontSize:12,color:"#92400e",margin:0},children:"Defina seu objetivo, altura, idade e n\xedvel de atividade para receber an\xe1lises personalizadas do Coach IA"})]}),(0,r.jsx)("button",{onClick:()=>e.push("/objetivos"),style:{width:"100%",padding:14,border:"none",background:"#f59e0b",color:"white",borderRadius:12,fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},children:"Configurar Objetivos"})]})})]}),(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"restrictions"===D?"2px solid #ef4444":"1px solid #e5e7eb"},children:[(0,r.jsxs)("button",{onClick:()=>eh("restrictions"),style:{width:"100%",padding:20,border:"none",background:"restrictions"===D?"#fef2f2":"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,fontSize:16,color:"restrictions"===D?"#ef4444":"#374151"},children:[(0,r.jsx)("span",{children:"Restricoes Alimentares"}),(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:"restrictions"===D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:(0,r.jsx)("path",{d:"M9 18l6-6-6-6"})})]}),"restrictions"===D&&(0,r.jsxs)("div",{style:{padding:20,borderTop:"1px solid #e5e7eb"},children:[(0,r.jsx)("p",{style:{fontSize:14,color:"#6b7280",marginBottom:16},children:"Configure alergias, intolerancias, dietas e outras restricoes para receber recomendacoes personalizadas do Coach IA."}),(0,r.jsx)("button",{onClick:()=>e.push("/restricoes"),style:{width:"100%",padding:14,border:"none",background:"#ef4444",color:"white",borderRadius:12,fontWeight:700,fontSize:16,cursor:"pointer",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},children:"Gerenciar Restricoes"})]})]}),(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"personal"===D?"2px solid #2196F3":"1px solid #e5e7eb"},children:[(0,r.jsxs)("button",{onClick:()=>eh("personal"),style:{width:"100%",padding:20,border:"none",background:"personal"===D?"#f0f9ff":"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,fontSize:16,color:"personal"===D?"#2196F3":"#374151"},children:[(0,r.jsx)("span",{children:"Dados Pessoais"}),(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:"personal"===D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:(0,r.jsx)("path",{d:"M9 18l6-6-6-6"})})]}),"personal"===D&&(0,r.jsxs)("div",{style:{padding:20,borderTop:"1px solid #e5e7eb"},children:[(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"Email"}),(0,r.jsx)("input",{type:"email",value:y.email,disabled:!0,style:{width:"100%",padding:12,border:"1px solid #d1d5db",borderRadius:8,fontSize:14,background:"#f9fafb",color:"#6b7280",cursor:"not-allowed"}}),(0,r.jsx)("p",{style:{fontSize:12,color:"#6b7280",margin:"4px 0 0 0"},children:"Email n\xe3o pode ser alterado"})]}),(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"Nome"}),(0,r.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#2196F3",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,r.jsxs)("div",{style:{marginBottom:20},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"Telefone"}),(0,r.jsx)("input",{type:"tel",value:S,onChange:e=>k(e.target.value),placeholder:"(11) 98765-4321",style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#2196F3",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,r.jsx)("button",{onClick:eg,disabled:h,style:{width:"100%",padding:14,border:"none",background:h?"#9ca3af":"#2196F3",color:"white",borderRadius:12,fontWeight:700,fontSize:16,cursor:h?"not-allowed":"pointer",boxShadow:h?"none":"0 4px 12px rgba(33, 150, 243, 0.3)"},children:h?" Salvando...":" Salvar Dados"})]})]}),(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"goals"===D?"2px solid #10b981":"1px solid #e5e7eb"},children:[(0,r.jsxs)("button",{onClick:()=>eh("goals"),style:{width:"100%",padding:20,border:"none",background:"goals"===D?"#f0fdf4":"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,fontSize:16,color:"goals"===D?"#10b981":"#374151"},children:[(0,r.jsx)("span",{children:"Metas Di\xe1rias"}),(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:"goals"===D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:(0,r.jsx)("path",{d:"M9 18l6-6-6-6"})})]}),"goals"===D&&(0,r.jsxs)("div",{style:{padding:20,borderTop:"1px solid #e5e7eb"},children:[(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"Calorias (kcal)"}),(0,r.jsx)("input",{type:"number",value:z,onChange:e=>C(Number(e.target.value)),min:"500",max:"10000",style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#10b981",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"Prote\xedna (g)"}),(0,r.jsx)("input",{type:"number",value:B,onChange:e=>W(Number(e.target.value)),min:"0",max:"500",style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#10b981",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"Carboidratos (g)"}),(0,r.jsx)("input",{type:"number",value:R,onChange:e=>_(Number(e.target.value)),min:"0",max:"1000",style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#10b981",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"\uD83E\uDDC8 Gorduras (g)"}),(0,r.jsx)("input",{type:"number",value:E,onChange:e=>T(Number(e.target.value)),min:"0",max:"300",style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#10b981",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,r.jsxs)("div",{style:{marginBottom:20},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"\xc1gua (ml)"}),(0,r.jsx)("input",{type:"number",value:A,onChange:e=>L(Number(e.target.value)),min:"500",max:"5000",step:"100",style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none",transition:"border-color 0.2s"},onFocus:e=>e.target.style.borderColor="#10b981",onBlur:e=>e.target.style.borderColor="#e5e7eb"}),(0,r.jsx)("p",{style:{fontSize:12,color:"#6b7280",margin:"4px 0 0 0"},children:"Meta di\xe1ria de hidrata\xe7\xe3o (ex: 2000ml = 8 copos)"})]}),(0,r.jsx)("button",{onClick:eu,disabled:h,style:{width:"100%",padding:14,border:"none",background:h?"#9ca3af":"#10b981",color:"white",borderRadius:12,fontWeight:700,fontSize:16,cursor:h?"not-allowed":"pointer",boxShadow:h?"none":"0 4px 12px rgba(16, 185, 129, 0.3)"},children:h?" Salvando...":" Salvar Metas"})]})]}),(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"info"===D?"2px solid #6366f1":"1px solid #e5e7eb"},children:[(0,r.jsxs)("button",{onClick:()=>eh("info"),style:{width:"100%",padding:20,border:"none",background:"info"===D?"#f5f3ff":"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,fontSize:16,color:"info"===D?"#6366f1":"#374151"},children:[(0,r.jsx)("span",{children:"Informa\xe7\xf5es da Conta"}),(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:"info"===D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:(0,r.jsx)("path",{d:"M9 18l6-6-6-6"})})]}),"info"===D&&(0,r.jsx)("div",{style:{padding:20,borderTop:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{style:{fontSize:12,color:"#6b7280",fontWeight:600,textTransform:"uppercase"},children:"Perfil"}),(0,r.jsx)("p",{style:{fontSize:14,color:"#374151",margin:"4px 0 0 0",fontWeight:600},children:"owner"===y.role?" Propriet\xe1rio":"admin"===y.role?" Administrador":" Membro"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{style:{fontSize:12,color:"#6b7280",fontWeight:600,textTransform:"uppercase"},children:"Cadastrado em"}),(0,r.jsx)("p",{style:{fontSize:14,color:"#374151",margin:"4px 0 0 0"},children:new Date(y.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})})]})]})})]}),(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"danger"===D?"2px solid #ef4444":"1px solid #e5e7eb"},children:[(0,r.jsxs)("button",{onClick:()=>eh("danger"),style:{width:"100%",padding:20,border:"none",background:"danger"===D?"#fef2f2":"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:700,fontSize:16,color:"danger"===D?"#ef4444":"#374151"},children:[(0,r.jsx)("span",{children:"Excluir Minha Conta"}),(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:"danger"===D?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:(0,r.jsx)("path",{d:"M9 18l6-6-6-6"})})]}),"danger"===D&&(0,r.jsxs)("div",{style:{padding:20,borderTop:"1px solid #e5e7eb"},children:[(0,r.jsx)("div",{style:{padding:16,background:"#fef2f2",border:"2px solid #fca5a5",borderRadius:12,marginBottom:16},children:(0,r.jsx)("p",{style:{fontSize:14,color:"#991b1b",margin:0,fontWeight:600},children:"Aten\xe7\xe3o: Excluir sua conta \xe9 uma a\xe7\xe3o permanente e irrevers\xedvel!"})}),(0,r.jsxs)("p",{style:{fontSize:14,color:"#6b7280",marginBottom:16,lineHeight:1.6},children:["Ao excluir sua conta, os seguintes dados ser\xe3o ",(0,r.jsx)("strong",{children:"perdidos permanentemente"}),":"]}),(0,r.jsxs)("ul",{style:{fontSize:14,color:"#6b7280",marginBottom:20,paddingLeft:20},children:[(0,r.jsx)("li",{children:"Todos os seus dados pessoais"}),(0,r.jsx)("li",{children:"Todas as suas refei\xe7\xf5es registradas"}),(0,r.jsx)("li",{children:"Todos os seus alimentos cadastrados"}),(0,r.jsx)("li",{children:"Todo o hist\xf3rico de \xe1gua"}),(0,r.jsx)("li",{children:"Suas metas e configura\xe7\xf5es"})]}),(0,r.jsx)("button",{onClick:function(){U(!0),V(!1),X(""),Q(""),Y(!1),ee(null)},style:{width:"100%",padding:14,border:"2px solid #ef4444",background:"white",color:"#ef4444",borderRadius:12,fontWeight:700,fontSize:16,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#ef4444",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.background="white",e.currentTarget.style.color="#ef4444"},children:"Excluir minha conta permanentemente"})]})]})]}),O&&!q&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:16},children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,maxWidth:500,width:"100%",padding:32,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[(0,r.jsx)("h2",{style:{fontSize:24,fontWeight:700,color:"#ef4444",marginBottom:16},children:"Tem certeza absoluta?"}),(0,r.jsxs)("p",{style:{fontSize:16,color:"#374151",marginBottom:20,lineHeight:1.6},children:["Esta a\xe7\xe3o ir\xe1 ",(0,r.jsx)("strong",{children:"deletar permanentemente"}),":"]}),(0,r.jsxs)("ul",{style:{fontSize:14,color:"#6b7280",marginBottom:24,paddingLeft:20},children:[(0,r.jsx)("li",{children:" Todos os seus dados pessoais"}),(0,r.jsx)("li",{children:" Todas as suas refei\xe7\xf5es registradas"}),(0,r.jsx)("li",{children:" Todos os seus alimentos cadastrados"}),(0,r.jsx)("li",{children:" Todo o hist\xf3rico de \xe1gua"}),(0,r.jsx)("li",{children:" Suas metas e configura\xe7\xf5es"})]}),(0,r.jsx)("div",{style:{padding:16,background:"#fef2f2",border:"2px solid #fca5a5",borderRadius:12,marginBottom:24},children:(0,r.jsx)("p",{style:{fontSize:14,color:"#991b1b",margin:0,fontWeight:700,textAlign:"center"},children:"ESTA A\xc7\xc3O \xc9 IRREVERS\xcdVEL E PERMANENTE!"})}),(0,r.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,r.jsx)("button",{onClick:ep,style:{flex:1,padding:14,border:"2px solid #e5e7eb",background:"white",color:"#374151",borderRadius:12,fontWeight:700,fontSize:16,cursor:"pointer"},children:"Cancelar"}),(0,r.jsx)("button",{onClick:function(){V(!0)},style:{flex:1,padding:14,border:"none",background:"#ef4444",color:"white",borderRadius:12,fontWeight:700,fontSize:16,cursor:"pointer"},children:"Sim, continuar"})]})]})}),O&&q&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:16},children:(0,r.jsxs)("div",{style:{background:"white",borderRadius:16,maxWidth:500,width:"100%",padding:32,boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[(0,r.jsx)("h2",{style:{fontSize:24,fontWeight:700,color:"#ef4444",marginBottom:16},children:"\uD83D\uDD10 Confirma\xe7\xe3o Final"}),(0,r.jsx)("p",{style:{fontSize:14,color:"#6b7280",marginBottom:20},children:"Para confirmar a exclus\xe3o permanente da sua conta, preencha os campos abaixo:"}),$&&(0,r.jsx)("div",{style:{padding:12,background:"#fef2f2",border:"2px solid #ef4444",borderRadius:8,marginBottom:16,color:"#991b1b",fontSize:14,fontWeight:600},children:$}),(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:"Digite sua senha atual:"}),(0,r.jsx)("input",{type:"password",value:G,onChange:e=>X(e.target.value),placeholder:"Sua senha",disabled:K,style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none"}})]}),(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:14,fontWeight:600,marginBottom:6,color:"#374151"},children:["Digite ",(0,r.jsx)("strong",{children:"EXCLUIR"})," (em mai\xfasculas):"]}),(0,r.jsx)("input",{type:"text",value:H,onChange:e=>Q(e.target.value),placeholder:"EXCLUIR",disabled:K,style:{width:"100%",padding:12,border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,outline:"none"}})]}),(0,r.jsx)("div",{style:{marginBottom:24},children:(0,r.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:8,cursor:"pointer",fontSize:14,color:"#374151"},children:[(0,r.jsx)("input",{type:"checkbox",checked:J,onChange:e=>Y(e.target.checked),disabled:K,style:{marginTop:2}}),(0,r.jsxs)("span",{children:["Entendo que perderei ",(0,r.jsx)("strong",{children:"todos os meus dados permanentemente"})," e que esta a\xe7\xe3o n\xe3o pode ser desfeita."]})]})}),(0,r.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,r.jsx)("button",{onClick:ep,disabled:K,style:{flex:1,padding:14,border:"2px solid #e5e7eb",background:"white",color:"#374151",borderRadius:12,fontWeight:700,fontSize:16,cursor:K?"not-allowed":"pointer",opacity:K?.5:1},children:"Cancelar"}),(0,r.jsx)("button",{onClick:ef,disabled:K||!G||!H||!J,style:{flex:1,padding:14,border:"none",background:!K&&G&&H&&J?"#ef4444":"#9ca3af",color:"white",borderRadius:12,fontWeight:700,fontSize:16,cursor:!K&&G&&H&&J?"pointer":"not-allowed"},children:K?" Excluindo...":" Excluir permanentemente"})]})]})})]}):(0,r.jsx)("div",{style:{padding:24,maxWidth:800,margin:"0 auto"},children:(0,r.jsxs)("div",{style:{padding:24,background:"#fee2e2",border:"2px solid #ef4444",borderRadius:12,textAlign:"center"},children:[(0,r.jsx)("div",{style:{fontSize:48,marginBottom:8}}),(0,r.jsx)("p",{style:{color:"#991b1b",margin:0},children:f||"Perfil n\xe3o encontrado"})]})})}},95682:function(e,o,t){"use strict";function r(e,o){return{canUseFeature:t=>"free"!==e&&("unlimited"===e||!!o&&("photo"===t?o.photo_analyses:"ocr"===t?o.ocr_analyses:"text"===t?o.text_analyses:o.report_analyses||{used:0,limit:0,percentage:0,remaining:0}).remaining>0),getQuotaInfo:t=>{if("free"===e)return{used:0,limit:0,remaining:0,percentage:0,canUse:!1};if("unlimited"===e){var r;return{used:o?"photo"===t?o.photo_analyses.used:"ocr"===t?o.ocr_analyses.used:"text"===t?o.text_analyses.used:(null===(r=o.report_analyses)||void 0===r?void 0:r.used)||0:0,limit:999999,remaining:999999,percentage:0,canUse:!0}}if(!o)return{used:0,limit:0,remaining:0,percentage:0,canUse:!1};let i="photo"===t?o.photo_analyses:"ocr"===t?o.ocr_analyses:"text"===t?o.text_analyses:o.report_analyses||{used:0,limit:0,percentage:0,remaining:0};return{used:i.used,limit:i.limit,remaining:i.remaining,percentage:i.percentage,canUse:i.remaining>0}},hasQuota:"premium"===e&&null!==o}}t.d(o,{f:function(){return r}})}},function(e){e.O(0,[325,353,78,971,23,744],function(){return e(e.s=98464)}),_N_E=e.O()}]);