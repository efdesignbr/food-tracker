(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569,398],{71425:function(e,t,i){Promise.resolve().then(i.bind(i,14153))},14153:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return p}});var o=i(57437),a=i(2265),r=i(86394),n=i(95682),l=i(46285),d=i(45591),s=i(45224);let c=["Pratos prontos","Bebidas","Carnes e derivados","Cereais e derivados","Frutas e derivados","Gorduras e \xf3leos","Industrializados","Leguminosas e derivados","Leite e derivados","Leites Vegetais","Massas","Miscel\xe2neas","Nozes e sementes","Ovos e derivados","Pescados e frutos do mar","Produtos a\xe7ucarados","Suplementos","Verduras, hortali\xe7as e derivados"];function p(){let{plan:e,quota:t,isLoading:i}=(0,r.R)(),{hasQuota:p}=(0,n.f)(e,t),[g,u]=(0,a.useState)(!1),[b,h]=(0,a.useState)([]),[x,m]=(0,a.useState)(!1),[f,y]=(0,a.useState)(null),[v,S]=(0,a.useState)(null),[j,z]=(0,a.useState)(!1),[w,k]=(0,a.useState)(""),[C,F]=(0,a.useState)(""),[_,R]=(0,a.useState)(""),[B,W]=(0,a.useState)(""),[T,A]=(0,a.useState)(""),[P,E]=(0,a.useState)(""),[I,M]=(0,a.useState)(""),[N,V]=(0,a.useState)(""),[L,O]=(0,a.useState)(""),[D,G]=(0,a.useState)(""),[q,U]=(0,a.useState)(""),[Z,X]=(0,a.useState)(""),[H,Q]=(0,a.useState)(""),[J,Y]=(0,a.useState)(""),[K,$]=(0,a.useState)(""),[ee,et]=(0,a.useState)(""),[ei,eo]=(0,a.useState)(""),[ea,er]=(0,a.useState)(""),[en,el]=(0,a.useState)(""),[ed,es]=(0,a.useState)(""),[ec,ep]=(0,a.useState)(""),[eg,eu]=(0,a.useState)(""),[eb,eh]=(0,a.useState)(!1),[ex,em]=(0,a.useState)(!1),[ef,ey]=(0,a.useState)(""),[ev,eS]=(0,a.useState)(!1),[ej,ez]=(0,a.useState)(null),[ew,ek]=(0,a.useState)(null),[eC,eF]=(0,a.useState)(null),[e_,eR]=(0,a.useState)(!1),[eB,eW]=(0,a.useState)(""),[eT,eA]=(0,a.useState)(!0),[eP,eE]=(0,a.useState)(""),[eI,eM]=(0,a.useState)(!1),[eN,eV]=(0,a.useState)(null),[eL,eO]=(0,a.useState)(!1),[eD,eG]=(0,a.useState)(""),[eq,eU]=(0,a.useState)(null),eZ=(0,a.useRef)(null);async function eX(){try{let e=await d.h.get("/api/food-bank?order_by=usage_count"),t=await e.json();e.ok&&h(t.items||[])}catch(e){console.error("Erro ao buscar alimentos:",e)}}async function eH(e){e.preventDefault(),y(null),S(null),m(!0);try{let e={name:w,source:"manual"};C&&(e.brand=C),_&&(e.serving_size=_),B&&(e.calories=parseFloat(B)),T&&(e.protein=parseFloat(T)),P&&(e.carbs=parseFloat(P)),I&&(e.fat=parseFloat(I)),N&&(e.fiber=parseFloat(N)),L&&(e.sodium=parseFloat(L)),D&&(e.sugar=parseFloat(D)),q&&(e.saturated_fat=parseFloat(q)),Z&&(e.cholesterol=parseFloat(Z)),H&&(e.calcium=parseFloat(H)),J&&(e.iron=parseFloat(J)),K&&(e.zinc=parseFloat(K)),ee&&(e.potassium=parseFloat(ee)),ei&&(e.vitamin_c=parseFloat(ei)),ea&&(e.vitamin_a=parseFloat(ea)),en&&(e.vitamin_b1=parseFloat(en)),ed&&(e.vitamin_b2=parseFloat(ed)),ec&&(e.vitamin_b3=parseFloat(ec)),eg&&(e.vitamin_b6=parseFloat(eg)),e.purchasable=ex,ef&&(e.category=ef);let t=await d.h.post("/api/food-bank",e),i=await t.json();if(!t.ok)throw Error(i.error||"Erro ao salvar alimento");S("Alimento cadastrado com sucesso!"),k(""),F(""),R(""),W(""),A(""),E(""),M(""),V(""),O(""),G(""),U(""),X(""),Q(""),Y(""),$(""),et(""),eo(""),er(""),el(""),es(""),ep(""),eu(""),eh(!1),em(!1),ey(""),z(!1),await eX()}catch(e){y(e.message)}finally{m(!1)}}async function eQ(){if(ej){y(null),eR(!0);try{let e=new FormData;e.append("image",ej);let t=await (0,s.q)(t=>(0,d.x)("/api/food-bank/analyze-label",{method:"POST",body:e,headers:t}),{feature:"ocr_analysis"});if(!t.ok){let e="Erro ao analisar imagem";try{e=(await t.json()).error||e}catch(i){e=413===t.status?"Imagem muito grande. Por favor, use uma imagem menor que 5MB.":"Erro ao analisar imagem (".concat(t.status,")")}throw Error(e)}let i=(await t.json()).result;i.calories&&(i.calories=parseFloat(i.calories.toFixed(2))),i.protein&&(i.protein=parseFloat(i.protein.toFixed(2))),i.carbs&&(i.carbs=parseFloat(i.carbs.toFixed(2))),i.fat&&(i.fat=parseFloat(i.fat.toFixed(2))),i.fiber&&(i.fiber=parseFloat(i.fiber.toFixed(2))),i.sodium&&(i.sodium=parseFloat(i.sodium.toFixed(2))),i.sugar&&(i.sugar=parseFloat(i.sugar.toFixed(2))),i.saturated_fat&&(i.saturated_fat=parseFloat(i.saturated_fat.toFixed(2))),eF(i),eW(i.name||"")}catch(e){y(e.message)}finally{eR(!1)}}}async function eJ(){if(eC){y(null),S(null),m(!0);try{let e={name:eB||eC.name,source:"ai_analyzed"};eC.brand&&(e.brand=eC.brand),eC.serving_size&&(e.serving_size=eC.serving_size),eC.calories&&(e.calories=eC.calories),eC.protein&&(e.protein=eC.protein),eC.carbs&&(e.carbs=eC.carbs),eC.fat&&(e.fat=eC.fat),eC.fiber&&(e.fiber=eC.fiber),eC.sodium&&(e.sodium=eC.sodium),eC.sugar&&(e.sugar=eC.sugar),eC.saturated_fat&&(e.saturated_fat=eC.saturated_fat),eC.cholesterol&&(e.cholesterol=eC.cholesterol),eC.calcium&&(e.calcium=eC.calcium),eC.iron&&(e.iron=eC.iron),eC.zinc&&(e.zinc=eC.zinc),eC.potassium&&(e.potassium=eC.potassium),eC.vitamin_c&&(e.vitamin_c=eC.vitamin_c),eC.vitamin_a&&(e.vitamin_a=eC.vitamin_a),eC.vitamin_b1&&(e.vitamin_b1=eC.vitamin_b1),eC.vitamin_b2&&(e.vitamin_b2=eC.vitamin_b2),eC.vitamin_b3&&(e.vitamin_b3=eC.vitamin_b3),eC.vitamin_b6&&(e.vitamin_b6=eC.vitamin_b6),e.purchasable=eT,eP&&(e.category=eP);let t=await d.h.post("/api/food-bank",e),i=await t.json();if(!t.ok)throw Error(i.error||"Erro ao salvar alimento");S("Alimento analisado e cadastrado com sucesso!"),eS(!1),ez(null),ek(null),eF(null),eW(""),eA(!0),eE(""),await eX()}catch(e){y(e.message)}finally{m(!1)}}}async function eY(){if(eN){y(null),S(null),m(!0);try{let e={id:eN.id,name:eN.name,brand:eN.brand||void 0,serving_size:eN.serving_size||void 0,calories:"number"==typeof eN.calories?eN.calories:void 0,protein:"number"==typeof eN.protein?eN.protein:void 0,carbs:"number"==typeof eN.carbs?eN.carbs:void 0,fat:"number"==typeof eN.fat?eN.fat:void 0,fiber:"number"==typeof eN.fiber?eN.fiber:void 0,sodium:"number"==typeof eN.sodium?eN.sodium:void 0,sugar:"number"==typeof eN.sugar?eN.sugar:void 0,saturated_fat:"number"==typeof eN.saturated_fat?eN.saturated_fat:void 0,cholesterol:"number"==typeof eN.cholesterol?eN.cholesterol:void 0,calcium:"number"==typeof eN.calcium?eN.calcium:void 0,iron:"number"==typeof eN.iron?eN.iron:void 0,magnesium:"number"==typeof eN.magnesium?eN.magnesium:void 0,phosphorus:"number"==typeof eN.phosphorus?eN.phosphorus:void 0,potassium:"number"==typeof eN.potassium?eN.potassium:void 0,zinc:"number"==typeof eN.zinc?eN.zinc:void 0,vitamin_c:"number"==typeof eN.vitamin_c?eN.vitamin_c:void 0,purchasable:eN.purchasable,category:eN.category||void 0},t=await d.h.patch("/api/food-bank",e),i=await t.json();if(!t.ok)throw Error(i.error||"Erro ao atualizar alimento");S("Alimento atualizado com sucesso!"),eO(!1),eV(null),await eX()}catch(e){y(e.message)}finally{m(!1)}}}async function eK(e,t){if(confirm('Tem certeza que deseja excluir "'.concat(t,'"?')))try{(await d.h.delete("/api/food-bank?id=".concat(e))).ok&&(S("Alimento exclu\xeddo com sucesso!"),await eX())}catch(e){console.error("Erro ao deletar:",e)}}return(0,a.useEffect)(()=>{eX()},[]),(0,o.jsxs)("div",{style:{maxWidth:1e3,margin:"0 auto",padding:24},children:[(0,o.jsx)("h1",{style:{fontSize:28,fontWeight:700,marginBottom:24},children:" Meus Alimentos"}),(0,o.jsx)(l.x5,{isOpen:g,onClose:()=>u(!1),feature:"ocr_analysis",currentPlan:e}),p&&t&&(0,o.jsx)(l.Lw,{quotaType:"ocr",used:t.ocr_analyses.used,limit:t.ocr_analyses.limit,percentage:t.ocr_analyses.percentage,remaining:t.ocr_analyses.remaining,resetDate:t.resetDate}),f&&(0,o.jsx)("div",{style:{padding:12,background:"#fee2e2",border:"2px solid #ef4444",borderRadius:8,color:"#991b1b",marginBottom:16},children:f}),v&&(0,o.jsx)("div",{style:{padding:12,background:"#d1fae5",border:"2px solid #10b981",borderRadius:8,color:"#065f46",marginBottom:16},children:v}),(0,o.jsxs)("div",{style:{display:"flex",gap:12,marginBottom:24},children:[(0,o.jsx)("button",{onClick:()=>{z(!j),eS(!1)},style:{flex:1,padding:16,background:j?"#6b7280":"#2196F3",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:"pointer"},children:j?" Cancelar":" Cadastrar Manualmente"}),(0,o.jsx)("button",{onClick:()=>{eS(!ev),z(!1)},style:{flex:1,padding:16,background:ev?"#6b7280":"#10b981",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:"pointer"},children:ev?" Cancelar":" Analisar com IA"})]}),j&&(0,o.jsxs)("form",{onSubmit:eH,style:{background:"white",border:"2px solid #e5e7eb",borderRadius:16,padding:24,marginBottom:24},children:[(0,o.jsx)("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:" Cadastro Manual"}),(0,o.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Nome do Alimento *"}),(0,o.jsx)("input",{type:"text",value:w,onChange:e=>k(e.target.value),placeholder:"Ex: Whey Protein",required:!0,style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Marca (opcional)"}),(0,o.jsx)("input",{type:"text",value:C,onChange:e=>F(e.target.value),placeholder:"Ex: Growth",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Por\xe7\xe3o (opcional)"}),(0,o.jsx)("input",{type:"text",value:_,onChange:e=>R(e.target.value),placeholder:"Ex: 30g, 1 scoop",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Macronutrientes"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Calorias"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:B,onChange:e=>W(e.target.value),placeholder:"kcal",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Prote\xedna (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:T,onChange:e=>A(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Carboidratos (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:P,onChange:e=>E(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Gorduras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:I,onChange:e=>M(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsxs)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Detalhes Nutricionais ",(0,o.jsx)("span",{style:{fontSize:12,color:"#9ca3af",fontWeight:400},children:"(Opcional)"})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Fibras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:N,onChange:e=>V(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"S\xf3dio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:L,onChange:e=>O(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"A\xe7\xfacares (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:D,onChange:e=>G(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Gord. Sat. (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:q,onChange:e=>U(e.target.value),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsxs)("button",{type:"button",onClick:()=>eh(!eb),style:{display:"flex",alignItems:"center",gap:8,marginTop:20,marginBottom:12,padding:0,background:"none",border:"none",cursor:"pointer",fontSize:15,fontWeight:700,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Micronutrientes ",(0,o.jsx)("span",{style:{fontSize:12,color:"#9ca3af",fontWeight:400},children:"(Opcional)"}),(0,o.jsx)("span",{style:{fontSize:12,color:"#6b7280"},children:eb?"▼":"▶"})]}),eb&&(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10,marginBottom:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Colesterol (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:Z,onChange:e=>X(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"C\xe1lcio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:H,onChange:e=>Q(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Ferro (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:J,onChange:e=>Y(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Zinco (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:K,onChange:e=>$(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Pot\xe1ssio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ee,onChange:e=>et(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. C (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ei,onChange:e=>eo(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. A (mcg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:ea,onChange:e=>er(e.target.value),placeholder:"mcg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. B1 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:en,onChange:e=>el(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. B2 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ed,onChange:e=>es(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. B3 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:ec,onChange:e=>ep(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. B6 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eg,onChange:e=>eu(e.target.value),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Classifica\xe7\xe3o"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Categoria"}),(0,o.jsxs)("select",{value:ef,onChange:e=>ey(e.target.value),style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box",background:"white"},children:[(0,o.jsx)("option",{value:"",children:"Selecione uma categoria..."}),c.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",paddingTop:24},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",fontSize:15,fontWeight:500},children:[(0,o.jsx)("input",{type:"checkbox",checked:ex,onChange:e=>em(e.target.checked),style:{width:20,height:20,cursor:"pointer"}}),"Pode ser comprado no mercado"]})})]}),(0,o.jsx)("button",{type:"submit",disabled:x,style:{width:"100%",marginTop:20,padding:14,background:x?"#9ca3af":"#2196F3",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:x?"not-allowed":"pointer",transition:"all 0.2s"},children:x?" Salvando...":" Salvar Alimento"})]})]}),ev&&(0,o.jsxs)("div",{style:{background:"white",border:"2px solid #e5e7eb",borderRadius:16,padding:24,marginBottom:24},children:[(0,o.jsx)("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:" Analisar Tabela Nutricional com IA"}),(0,o.jsx)("input",{ref:eZ,type:"file",accept:"image/*",onChange:function(e){var t;let i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!i)return;ez(i);let o=new FileReader;o.onloadend=()=>{ek(o.result)},o.readAsDataURL(i)},style:{display:"none"}}),ew?(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:ew,alt:"Preview",style:{width:"100%",maxHeight:300,objectFit:"contain",borderRadius:12,marginBottom:16}}),eC?(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{style:{background:"#f3f4f6",borderRadius:12,padding:16,marginBottom:16},children:[(0,o.jsx)("h3",{style:{fontSize:18,fontWeight:700,marginBottom:16},children:" Revisar e Editar:"}),(0,o.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14,color:"#374151"},children:"Nome do Alimento *"}),(0,o.jsx)("input",{type:"text",value:eB,onChange:e=>eW(e.target.value),placeholder:"Ex: Whey Protein",required:!0,style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14,color:"#374151"},children:"Marca"}),(0,o.jsx)("input",{type:"text",value:eC.brand||"",onChange:e=>eF({...eC,brand:e.target.value}),placeholder:"Ex: Growth",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14,color:"#374151"},children:"Por\xe7\xe3o"}),(0,o.jsx)("input",{type:"text",value:eC.serving_size||"",onChange:e=>eF({...eC,serving_size:e.target.value}),placeholder:"Ex: 30g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:14,fontWeight:700,color:"#6b7280",marginBottom:12,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Macronutrientes"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Calorias"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.calories||"",onChange:e=>eF({...eC,calories:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"kcal",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Prote\xedna (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.protein||"",onChange:e=>eF({...eC,protein:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Carboidratos (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.carbs||"",onChange:e=>eF({...eC,carbs:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Gorduras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.fat||"",onChange:e=>eF({...eC,fat:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:14,fontWeight:700,color:"#6b7280",marginBottom:12,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Detalhes Nutricionais"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Fibras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.fiber||"",onChange:e=>eF({...eC,fiber:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"S\xf3dio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.sodium||"",onChange:e=>eF({...eC,sodium:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"A\xe7\xfacares (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.sugar||"",onChange:e=>eF({...eC,sugar:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13,color:"#374151"},children:"Gord. Sat. (g)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.saturated_fat||"",onChange:e=>eF({...eC,saturated_fat:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("button",{type:"button",onClick:()=>eM(!eI),style:{display:"flex",alignItems:"center",gap:8,padding:0,marginBottom:12,background:"none",border:"none",cursor:"pointer",fontSize:14,fontWeight:700,color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:["Micronutrientes ",(0,o.jsx)("span",{style:{fontSize:12,color:"#9ca3af",fontWeight:400},children:"(Opcional)"}),(0,o.jsx)("span",{style:{fontSize:12},children:eI?"▼":"▶"})]}),eI&&(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:10,marginBottom:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Colesterol (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eC.cholesterol||"",onChange:e=>eF({...eC,cholesterol:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"C\xe1lcio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eC.calcium||"",onChange:e=>eF({...eC,calcium:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Ferro (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eC.iron||"",onChange:e=>eF({...eC,iron:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Zinco (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eC.zinc||"",onChange:e=>eF({...eC,zinc:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Pot\xe1ssio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eC.potassium||"",onChange:e=>eF({...eC,potassium:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. C (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eC.vitamin_c||"",onChange:e=>eF({...eC,vitamin_c:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. A (mcg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eC.vitamin_a||"",onChange:e=>eF({...eC,vitamin_a:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mcg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. B1 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.vitamin_b1||"",onChange:e=>eF({...eC,vitamin_b1:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. B2 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.vitamin_b2||"",onChange:e=>eF({...eC,vitamin_b2:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. B3 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.vitamin_b3||"",onChange:e=>eF({...eC,vitamin_b3:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:4,fontWeight:600,fontSize:12,color:"#374151"},children:"Vit. B6 (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eC.vitamin_b6||"",onChange:e=>eF({...eC,vitamin_b6:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"mg",style:{width:"100%",padding:8,fontSize:14,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"}})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:14,fontWeight:700,color:"#6b7280",marginBottom:12,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Classifica\xe7\xe3o"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14,color:"#374151"},children:"Categoria"}),(0,o.jsxs)("select",{value:eP,onChange:e=>eE(e.target.value),style:{width:"100%",padding:10,fontSize:15,border:"2px solid #d1d5db",borderRadius:8,background:"white",boxSizing:"border-box"},children:[(0,o.jsx)("option",{value:"",children:"Selecione uma categoria..."}),c.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",paddingTop:24},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",fontSize:15,fontWeight:500,color:"#374151"},children:[(0,o.jsx)("input",{type:"checkbox",checked:eT,onChange:e=>eA(e.target.checked),style:{width:20,height:20,cursor:"pointer"}}),"Pode ser comprado no mercado"]})})]})]})]})]}),(0,o.jsx)("button",{onClick:eJ,disabled:x||!eB.trim(),style:{width:"100%",padding:16,background:x||!eB.trim()?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:x||!eB.trim()?"not-allowed":"pointer"},children:x?" Salvando...":" Salvar no Banco de Alimentos"})]}):(0,o.jsx)("button",{onClick:eQ,disabled:e_,style:{width:"100%",padding:16,background:e_?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:e_?"not-allowed":"pointer"},children:e_?" Analisando...":" Analisar com IA"})]}):(0,o.jsx)("button",{onClick:()=>{var e;return null===(e=eZ.current)||void 0===e?void 0:e.click()},style:{width:"100%",padding:48,background:"#f3f4f6",border:"2px dashed #d1d5db",borderRadius:12,fontSize:16,fontWeight:600,color:"#6b7280",cursor:"pointer"},children:"Selecionar Foto da Tabela Nutricional"})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{style:{fontSize:20,fontWeight:700,marginBottom:16},children:["Alimentos Cadastrados (",b.length,")"]}),b.length>0&&(0,o.jsx)("div",{style:{marginBottom:16},children:(0,o.jsx)("input",{type:"text",value:eD,onChange:e=>eG(e.target.value),placeholder:" Buscar alimento...",style:{width:"100%",padding:12,fontSize:15,border:"2px solid #e5e7eb",borderRadius:12,boxSizing:"border-box"}})}),0===b.length?(0,o.jsx)("div",{style:{padding:32,textAlign:"center",color:"#9ca3af",border:"2px dashed #d1d5db",borderRadius:12},children:"Nenhum alimento cadastrado ainda"}):(0,o.jsxs)("div",{style:{display:"grid",gap:12},children:[b.filter(e=>e.name.toLowerCase().includes(eD.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(eD.toLowerCase())).map(e=>{let t=eq===e.id;return(0,o.jsxs)("div",{style:{background:"white",border:t?"2px solid #2196F3":"1px solid #e5e7eb",borderRadius:12,overflow:"hidden",transition:"all 0.2s ease"},children:[(0,o.jsxs)("div",{onClick:()=>eU(t?null:e.id),style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:16,cursor:"pointer",background:t?"#f0f9ff":"white"},children:[(0,o.jsxs)("div",{style:{flex:1},children:[(0,o.jsxs)("div",{style:{fontSize:16,fontWeight:600,color:"#1f2937"},children:[e.purchasable&&(0,o.jsx)("span",{style:{marginRight:6,fontSize:14},title:"Pode ser comprado no mercado"}),e.name,"ai_analyzed"===e.source&&(0,o.jsx)("span",{style:{marginLeft:8,fontSize:14,color:"#10b981"}})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.brand&&(0,o.jsx)("span",{style:{fontSize:13,color:"#6b7280"},children:e.brand}),e.category&&(0,o.jsx)("span",{style:{fontSize:11,color:"#6b7280",background:"#f3f4f6",padding:"2px 6px",borderRadius:4},children:e.category})]})]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[e.calories&&(0,o.jsxs)("span",{style:{fontSize:14,fontWeight:600,color:"#374151"},children:[parseFloat(e.calories.toString()).toFixed(0)," kcal"]}),(0,o.jsx)("span",{style:{fontSize:14,color:"#9ca3af",transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"}})]})]}),t&&(0,o.jsxs)("div",{style:{padding:"0 16px 16px",borderTop:"1px solid #e5e7eb"},children:[e.serving_size&&(0,o.jsxs)("div",{style:{fontSize:13,color:"#6b7280",marginTop:12,marginBottom:8},children:["Por\xe7\xe3o: ",e.serving_size]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))",gap:8,marginTop:12},children:[null!==e.protein&&(0,o.jsxs)("div",{style:{textAlign:"center",padding:8,background:"#fef3c7",borderRadius:8},children:[(0,o.jsxs)("div",{style:{fontSize:14,fontWeight:700,color:"#d97706"},children:[parseFloat(e.protein.toString()).toFixed(1),"g"]}),(0,o.jsx)("div",{style:{fontSize:11,color:"#92400e"},children:"Prote\xedna"})]}),null!==e.carbs&&(0,o.jsxs)("div",{style:{textAlign:"center",padding:8,background:"#dbeafe",borderRadius:8},children:[(0,o.jsxs)("div",{style:{fontSize:14,fontWeight:700,color:"#2563eb"},children:[parseFloat(e.carbs.toString()).toFixed(1),"g"]}),(0,o.jsx)("div",{style:{fontSize:11,color:"#1e40af"},children:"Carbos"})]}),null!==e.fat&&(0,o.jsxs)("div",{style:{textAlign:"center",padding:8,background:"#fce7f3",borderRadius:8},children:[(0,o.jsxs)("div",{style:{fontSize:14,fontWeight:700,color:"#db2777"},children:[parseFloat(e.fat.toString()).toFixed(1),"g"]}),(0,o.jsx)("div",{style:{fontSize:11,color:"#9d174d"},children:"Gordura"})]}),null!==e.fiber&&(0,o.jsxs)("div",{style:{textAlign:"center",padding:8,background:"#d1fae5",borderRadius:8},children:[(0,o.jsxs)("div",{style:{fontSize:14,fontWeight:700,color:"#059669"},children:[parseFloat(e.fiber.toString()).toFixed(1),"g"]}),(0,o.jsx)("div",{style:{fontSize:11,color:"#047857"},children:"Fibra"})]})]}),(e.sodium||e.sugar||e.saturated_fat)&&(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginTop:12,fontSize:12,color:"#6b7280"},children:[e.sodium&&(0,o.jsxs)("span",{children:[" ",parseFloat(e.sodium.toString()).toFixed(0),"mg s\xf3dio"]}),e.sugar&&(0,o.jsxs)("span",{children:[" ",parseFloat(e.sugar.toString()).toFixed(1),"g a\xe7\xfacar"]}),e.saturated_fat&&(0,o.jsxs)("span",{children:[" ",parseFloat(e.saturated_fat.toString()).toFixed(1),"g gord.sat"]})]}),(e.cholesterol||e.calcium||e.magnesium||e.phosphorus||e.iron||e.potassium||e.zinc||e.vitamin_c)&&(0,o.jsxs)("div",{style:{marginTop:12},children:[(0,o.jsx)("div",{style:{fontSize:11,fontWeight:600,color:"#7c3aed",marginBottom:8},children:"Micronutrientes"}),(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:6,fontSize:11},children:[e.cholesterol&&(0,o.jsxs)("span",{style:{background:"#fecaca",color:"#991b1b",padding:"3px 8px",borderRadius:4},children:["Colesterol: ",parseFloat(e.cholesterol.toString()).toFixed(0),"mg"]}),e.calcium&&(0,o.jsxs)("span",{style:{background:"#fef3c7",color:"#92400e",padding:"3px 8px",borderRadius:4},children:["C\xe1lcio: ",parseFloat(e.calcium.toString()).toFixed(0),"mg"]}),e.iron&&(0,o.jsxs)("span",{style:{background:"#fee2e2",color:"#991b1b",padding:"3px 8px",borderRadius:4},children:["Ferro: ",parseFloat(e.iron.toString()).toFixed(1),"mg"]}),e.magnesium&&(0,o.jsxs)("span",{style:{background:"#d1fae5",color:"#065f46",padding:"3px 8px",borderRadius:4},children:["Magn\xe9sio: ",parseFloat(e.magnesium.toString()).toFixed(0),"mg"]}),e.phosphorus&&(0,o.jsxs)("span",{style:{background:"#e0e7ff",color:"#3730a3",padding:"3px 8px",borderRadius:4},children:["F\xf3sforo: ",parseFloat(e.phosphorus.toString()).toFixed(0),"mg"]}),e.potassium&&(0,o.jsxs)("span",{style:{background:"#fce7f3",color:"#9d174d",padding:"3px 8px",borderRadius:4},children:["Pot\xe1ssio: ",parseFloat(e.potassium.toString()).toFixed(0),"mg"]}),e.zinc&&(0,o.jsxs)("span",{style:{background:"#cffafe",color:"#155e75",padding:"3px 8px",borderRadius:4},children:["Zinco: ",parseFloat(e.zinc.toString()).toFixed(2),"mg"]}),e.vitamin_c&&(0,o.jsxs)("span",{style:{background:"#fef9c3",color:"#854d0e",padding:"3px 8px",borderRadius:4},children:["Vit. C: ",parseFloat(e.vitamin_c.toString()).toFixed(0),"mg"]})]})]}),e.usage_count>0&&(0,o.jsxs)("div",{style:{fontSize:12,color:"#9ca3af",marginTop:8},children:["Usado ",e.usage_count,"x"]}),(0,o.jsxs)("div",{style:{display:"flex",gap:8,marginTop:16},children:[(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),eV(e),eO(!0),y(null),S(null)},style:{flex:1,padding:"10px 12px",background:"#dbeafe",color:"#1e40af",border:"none",borderRadius:8,cursor:"pointer",fontSize:14,fontWeight:600},children:"Editar"}),(0,o.jsx)("button",{onClick:t=>{t.stopPropagation(),eK(e.id,e.name)},style:{flex:1,padding:"10px 12px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:8,cursor:"pointer",fontSize:14,fontWeight:600},children:"Excluir"})]})]})]},e.id)}),0===b.filter(e=>e.name.toLowerCase().includes(eD.toLowerCase())||e.brand&&e.brand.toLowerCase().includes(eD.toLowerCase())).length&&eD&&(0,o.jsxs)("div",{style:{padding:24,textAlign:"center",color:"#9ca3af",background:"#f9fafb",borderRadius:12},children:['Nenhum alimento encontrado para "',eD,'"']})]})]}),eL&&eN&&(0,o.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,padding:20},children:(0,o.jsxs)("div",{style:{background:"white",borderRadius:16,padding:24,maxWidth:800,width:"100%",maxHeight:"90vh",overflowY:"auto"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,o.jsx)("h2",{style:{fontSize:20,fontWeight:700},children:" Editar Alimento"}),(0,o.jsx)("button",{onClick:()=>{eO(!1),eV(null)},style:{padding:8,background:"transparent",border:"none",fontSize:24,cursor:"pointer",color:"#666"}})]}),(0,o.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Nome do Alimento *"}),(0,o.jsx)("input",{type:"text",value:eN.name,onChange:e=>eV({...eN,name:e.target.value}),placeholder:"Ex: Whey Protein",required:!0,style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Marca"}),(0,o.jsx)("input",{type:"text",value:eN.brand||"",onChange:e=>eV({...eN,brand:e.target.value}),placeholder:"Ex: Growth",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Por\xe7\xe3o"}),(0,o.jsx)("input",{type:"text",value:eN.serving_size||"",onChange:e=>eV({...eN,serving_size:e.target.value}),placeholder:"Ex: 30g, 1 scoop",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Macronutrientes"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Calorias"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.calories||"",onChange:e=>eV({...eN,calories:e.target.value?parseFloat(e.target.value):null}),placeholder:"kcal",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Prote\xedna (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.protein||"",onChange:e=>eV({...eN,protein:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Carboidratos (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.carbs||"",onChange:e=>eV({...eN,carbs:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Gorduras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.fat||"",onChange:e=>eV({...eN,fat:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Detalhes Nutricionais"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Fibras (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.fiber||"",onChange:e=>eV({...eN,fiber:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"S\xf3dio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.sodium||"",onChange:e=>eV({...eN,sodium:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"A\xe7\xfacares (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.sugar||"",onChange:e=>eV({...eN,sugar:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Gord. Sat. (g)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.saturated_fat||"",onChange:e=>eV({...eN,saturated_fat:e.target.value?parseFloat(e.target.value):null}),placeholder:"g",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#7c3aed",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Micronutrientes"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:10},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Colesterol (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.cholesterol||"",onChange:e=>eV({...eN,cholesterol:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"C\xe1lcio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.calcium||"",onChange:e=>eV({...eN,calcium:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Ferro (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.iron||"",onChange:e=>eV({...eN,iron:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Magn\xe9sio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.magnesium||"",onChange:e=>eV({...eN,magnesium:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"F\xf3sforo (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.phosphorus||"",onChange:e=>eV({...eN,phosphorus:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Pot\xe1ssio (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.potassium||"",onChange:e=>eV({...eN,potassium:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Zinco (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.01",value:eN.zinc||"",onChange:e=>eV({...eN,zinc:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:13},children:"Vit. C (mg)"}),(0,o.jsx)("input",{type:"number",step:"0.1",value:eN.vitamin_c||"",onChange:e=>eV({...eN,vitamin_c:e.target.value?parseFloat(e.target.value):null}),placeholder:"mg",style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box"}})]})]}),(0,o.jsx)("h3",{style:{fontSize:15,fontWeight:700,marginTop:20,marginBottom:12,color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Classifica\xe7\xe3o"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:12},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:6,fontWeight:600,fontSize:14},children:"Categoria"}),(0,o.jsxs)("select",{value:eN.category||"",onChange:e=>eV({...eN,category:e.target.value||null}),style:{width:"100%",padding:10,fontSize:15,border:"2px solid #e5e7eb",borderRadius:8,boxSizing:"border-box",background:"white"},children:[(0,o.jsx)("option",{value:"",children:"Selecione uma categoria..."}),c.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]})]}),(0,o.jsx)("div",{style:{display:"flex",alignItems:"center",paddingTop:24},children:(0,o.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:10,cursor:"pointer",fontSize:15,fontWeight:500},children:[(0,o.jsx)("input",{type:"checkbox",checked:eN.purchasable,onChange:e=>eV({...eN,purchasable:e.target.checked}),style:{width:20,height:20,cursor:"pointer"}}),"Pode ser comprado no mercado"]})})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:12,marginTop:20},children:[(0,o.jsx)("button",{onClick:()=>{eO(!1),eV(null)},disabled:x,style:{flex:1,padding:14,background:"#6b7280",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:x?"not-allowed":"pointer",opacity:x?.6:1},children:"Cancelar"}),(0,o.jsx)("button",{onClick:eY,disabled:x||!eN.name.trim(),style:{flex:2,padding:14,background:x||!eN.name.trim()?"#9ca3af":"#2196F3",color:"white",border:"none",borderRadius:12,fontSize:16,fontWeight:600,cursor:x||!eN.name.trim()?"not-allowed":"pointer"},children:x?" Salvando...":" Salvar Altera\xe7\xf5es"})]})]})]})})]})}},95682:function(e,t,i){"use strict";function o(e,t){return{canUseFeature:i=>"free"!==e&&("unlimited"===e||!!t&&("photo"===i?t.photo_analyses:"ocr"===i?t.ocr_analyses:"text"===i?t.text_analyses:t.report_analyses||{used:0,limit:0,percentage:0,remaining:0}).remaining>0),getQuotaInfo:i=>{if("free"===e)return{used:0,limit:0,remaining:0,percentage:0,canUse:!1};if("unlimited"===e){var o;return{used:t?"photo"===i?t.photo_analyses.used:"ocr"===i?t.ocr_analyses.used:"text"===i?t.text_analyses.used:(null===(o=t.report_analyses)||void 0===o?void 0:o.used)||0:0,limit:999999,remaining:999999,percentage:0,canUse:!0}}if(!t)return{used:0,limit:0,remaining:0,percentage:0,canUse:!1};let a="photo"===i?t.photo_analyses:"ocr"===i?t.ocr_analyses:"text"===i?t.text_analyses:t.report_analyses||{used:0,limit:0,percentage:0,remaining:0};return{used:a.used,limit:a.limit,remaining:a.remaining,percentage:a.percentage,canUse:a.remaining>0}},hasQuota:"premium"===e&&null!==t}}i.d(t,{f:function(){return o}})},68398:function(e,t,i){"use strict";i.d(t,{Ob:function(){return p},showRewardedAd:function(){return g},tJ:function(){return c}});var o=i(87185);function a(e,t){var i;return(null===(i=process.env)||void 0===i?void 0:i[e])||t}a("NEXT_PUBLIC_ADMOB_APP_ID_IOS","ca-app-pub-1018925088575422~2172895788");let r=a("NEXT_PUBLIC_ADMOB_BANNER_ID_IOS","ca-app-pub-1018925088575422/1014553329"),n=a("NEXT_PUBLIC_ADMOB_REWARDED_ID_IOS","ca-app-pub-1018925088575422/2438303871"),l=null,d=!1;async function s(){if(!l)try{l=(await i.e(124).then(i.bind(i,97124))).AdMob}catch(e){console.warn("[AdMob] Community plugin not available:",e),l=null}}async function c(){if(o.dV.isNativePlatform()&&!d){if(await s(),!l){d=!0;return}try{await l.initialize({requestTrackingAuthorization:!0})}catch(e){console.warn("[AdMob] init error (non-fatal):",e)}finally{d=!0}}}async function p(){if(o.dV.isNativePlatform()&&(await c(),l))try{"function"==typeof l.showBannerAd?await l.showBannerAd({adId:r,position:"TOP_CENTER"}):"function"==typeof l.showBanner&&await l.showBanner({adId:r,position:"TOP_CENTER"})}catch(e){console.warn("[AdMob] showTopBanner failed:",e)}}async function g(e){if(!o.dV.isNativePlatform())return console.log("[AdMob] Not native, simulating rewarded ad for dev"),!0;if(await c(),!l)return!0;try{if("function"==typeof l.showRewardedAd)return await l.showRewardedAd({adId:n}),!0;if("function"==typeof l.showRewardVideoAd)return await l.showRewardVideoAd({adId:n}),!0;return console.warn("[AdMob] No rewarded method available"),!1}catch(e){return console.warn("[AdMob] showRewardedAd failed:",e),!1}}},45224:function(e,t,i){"use strict";i.d(t,{q:function(){return a}});var o=i(68398);async function a(e,t){let i=await e();if(403!==i.status)return i;try{let a=await i.clone().json().catch(()=>({}));if((null==a?void 0:a.error)==="watch_ad_required"){if(!await (0,o.showRewardedAd)(null==t?void 0:t.feature))return i;return await e({"x-ad-completed":"1"})}}catch(e){}return i}},16463:function(e,t,i){"use strict";var o=i(71169);i.o(o,"usePathname")&&i.d(t,{usePathname:function(){return o.usePathname}}),i.o(o,"useRouter")&&i.d(t,{useRouter:function(){return o.useRouter}}),i.o(o,"useSearchParams")&&i.d(t,{useSearchParams:function(){return o.useSearchParams}})}},function(e){e.O(0,[325,78,971,23,744],function(){return e(e.s=71425)}),_N_E=e.O()}]);